
> clean-architecture@0.0.1 test:cov C:\Users\llong\Desktop\clean-architecture
> jest --coverage

[31m[Nest] 16832  - [39m11/24/2025, 10:21:28 AM [31m  ERROR[39m [38;5;3m[TypeOrmModule] [39m[31mUnable to connect to the database. Retrying (1)...[39m
error: password authentication failed for user "postgres"
    at Parser.parseErrorMessage (C:\Users\llong\Desktop\clean-architecture\node_modules\.pnpm\pg-protocol@1.10.3\node_modules\pg-protocol\src\parser.ts:369:69)
    at Parser.handlePacket (C:\Users\llong\Desktop\clean-architecture\node_modules\.pnpm\pg-protocol@1.10.3\node_modules\pg-protocol\src\parser.ts:187:21)
    at Parser.parse (C:\Users\llong\Desktop\clean-architecture\node_modules\.pnpm\pg-protocol@1.10.3\node_modules\pg-protocol\src\parser.ts:102:30)
    at Socket.<anonymous> (C:\Users\llong\Desktop\clean-architecture\node_modules\.pnpm\pg-protocol@1.10.3\node_modules\pg-protocol\src\index.ts:7:48)
    at Socket.emit (node:events:519:28)
    at addChunk (node:internal/streams/readable:561:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
    at Socket.Readable.push (node:internal/streams/readable:392:5)
    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)
[31m[Nest] 16832  - [39m11/24/2025, 10:21:31 AM [31m  ERROR[39m [38;5;3m[TypeOrmModule] [39m[31mUnable to connect to the database. Retrying (2)...[39m
error: password authentication failed for user "postgres"
    at Parser.parseErrorMessage (C:\Users\llong\Desktop\clean-architecture\node_modules\.pnpm\pg-protocol@1.10.3\node_modules\pg-protocol\src\parser.ts:369:69)
    at Parser.handlePacket (C:\Users\llong\Desktop\clean-architecture\node_modules\.pnpm\pg-protocol@1.10.3\node_modules\pg-protocol\src\parser.ts:187:21)
    at Parser.parse (C:\Users\llong\Desktop\clean-architecture\node_modules\.pnpm\pg-protocol@1.10.3\node_modules\pg-protocol\src\parser.ts:102:30)
    at Socket.<anonymous> (C:\Users\llong\Desktop\clean-architecture\node_modules\.pnpm\pg-protocol@1.10.3\node_modules\pg-protocol\src\index.ts:7:48)
    at Socket.emit (node:events:519:28)
    at addChunk (node:internal/streams/readable:561:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
    at Socket.Readable.push (node:internal/streams/readable:392:5)
    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)
FAIL integration test/integration/post-transaction.spec.ts (10.102 s)
  ‚óè PostRepository Transactions (Integration) ‚Ä∫ saveWithTransaction ‚Ä∫ should commit transaction when publish succeeds

    thrown: "Exceeded timeout of 5000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 24 |[39m   [36mlet[39m dataSource[33m:[39m [33mDataSource[39m[33m;[39m
     [90m 25 |[39m
    [31m[1m>[22m[39m[90m 26 |[39m   beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m   [31m[1m^[22m[39m
     [90m 27 |[39m     [90m// This would typically use TestContainers or a test database[39m
     [90m 28 |[39m     [90m// For now, this is a template showing the test structure[39m
     [90m 29 |[39m     module [33m=[39m [36mawait[39m [33mTest[39m[33m.[39mcreateTestingModule({[0m

      at test/integration/post-transaction.spec.ts:26:3
      at Object.<anonymous> (test/integration/post-transaction.spec.ts:21:1)

  ‚óè PostRepository Transactions (Integration) ‚Ä∫ saveWithTransaction ‚Ä∫ should rollback transaction on error

    thrown: "Exceeded timeout of 5000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 24 |[39m   [36mlet[39m dataSource[33m:[39m [33mDataSource[39m[33m;[39m
     [90m 25 |[39m
    [31m[1m>[22m[39m[90m 26 |[39m   beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m   [31m[1m^[22m[39m
     [90m 27 |[39m     [90m// This would typically use TestContainers or a test database[39m
     [90m 28 |[39m     [90m// For now, this is a template showing the test structure[39m
     [90m 29 |[39m     module [33m=[39m [36mawait[39m [33mTest[39m[33m.[39mcreateTestingModule({[0m

      at test/integration/post-transaction.spec.ts:26:3
      at Object.<anonymous> (test/integration/post-transaction.spec.ts:21:1)

  ‚óè PostRepository Transactions (Integration) ‚Ä∫ saveWithTransaction ‚Ä∫ should handle concurrent transactions correctly

    thrown: "Exceeded timeout of 5000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 24 |[39m   [36mlet[39m dataSource[33m:[39m [33mDataSource[39m[33m;[39m
     [90m 25 |[39m
    [31m[1m>[22m[39m[90m 26 |[39m   beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m   [31m[1m^[22m[39m
     [90m 27 |[39m     [90m// This would typically use TestContainers or a test database[39m
     [90m 28 |[39m     [90m// For now, this is a template showing the test structure[39m
     [90m 29 |[39m     module [33m=[39m [36mawait[39m [33mTest[39m[33m.[39mcreateTestingModule({[0m

      at test/integration/post-transaction.spec.ts:26:3
      at Object.<anonymous> (test/integration/post-transaction.spec.ts:21:1)


  ‚óè Test suite failed to run

    TypeError: Cannot read properties of undefined (reading 'close')

    [0m [90m 52 |[39m       [36mawait[39m dataSource[33m.[39mdestroy()[33m;[39m
     [90m 53 |[39m     }
    [31m[1m>[22m[39m[90m 54 |[39m     [36mawait[39m module[33m.[39mclose()[33m;[39m
     [90m    |[39m                  [31m[1m^[22m[39m
     [90m 55 |[39m   })[33m;[39m
     [90m 56 |[39m
     [90m 57 |[39m   describe([32m'saveWithTransaction'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (test/integration/post-transaction.spec.ts:54:18)

FAIL integration test/integration/post/post.repository.integration.spec.ts (10.121 s)
  ‚óè PostRepository Integration Tests ‚Ä∫ save ‚Ä∫ should save a new post to the database

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/post/post.repository.integration.spec.ts:16:18)

  ‚óè PostRepository Integration Tests ‚Ä∫ save ‚Ä∫ should update an existing post

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/post/post.repository.integration.spec.ts:16:18)

  ‚óè PostRepository Integration Tests ‚Ä∫ saveWithTransaction ‚Ä∫ should save post within a transaction

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/post/post.repository.integration.spec.ts:16:18)

  ‚óè PostRepository Integration Tests ‚Ä∫ saveWithTransaction ‚Ä∫ should rollback on error

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/post/post.repository.integration.spec.ts:16:18)

  ‚óè PostRepository Integration Tests ‚Ä∫ findById ‚Ä∫ should find a post by ID

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/post/post.repository.integration.spec.ts:16:18)

  ‚óè PostRepository Integration Tests ‚Ä∫ findById ‚Ä∫ should return null for non-existent ID

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/post/post.repository.integration.spec.ts:16:18)

  ‚óè PostRepository Integration Tests ‚Ä∫ findBySlug ‚Ä∫ should find a post by slug

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/post/post.repository.integration.spec.ts:16:18)

  ‚óè PostRepository Integration Tests ‚Ä∫ findBySlug ‚Ä∫ should return null for non-existent slug

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/post/post.repository.integration.spec.ts:16:18)

  ‚óè PostRepository Integration Tests ‚Ä∫ findBySlug ‚Ä∫ should find post with custom slug

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/post/post.repository.integration.spec.ts:16:18)

  ‚óè PostRepository Integration Tests ‚Ä∫ findByAuthorId ‚Ä∫ should find all posts by author

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/post/post.repository.integration.spec.ts:16:18)

  ‚óè PostRepository Integration Tests ‚Ä∫ findByAuthorId ‚Ä∫ should support pagination

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/post/post.repository.integration.spec.ts:16:18)

  ‚óè PostRepository Integration Tests ‚Ä∫ findByAuthorId ‚Ä∫ should return empty array for author with no posts

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/post/post.repository.integration.spec.ts:16:18)

  ‚óè PostRepository Integration Tests ‚Ä∫ findAll ‚Ä∫ should return all posts

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/post/post.repository.integration.spec.ts:16:18)

  ‚óè PostRepository Integration Tests ‚Ä∫ findAll ‚Ä∫ should support pagination

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/post/post.repository.integration.spec.ts:16:18)

  ‚óè PostRepository Integration Tests ‚Ä∫ findAll ‚Ä∫ should order by createdAt DESC

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/post/post.repository.integration.spec.ts:16:18)

  ‚óè PostRepository Integration Tests ‚Ä∫ delete ‚Ä∫ should soft delete a post

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/post/post.repository.integration.spec.ts:16:18)

  ‚óè PostRepository Integration Tests ‚Ä∫ delete ‚Ä∫ should return false for non-existent post

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/post/post.repository.integration.spec.ts:16:18)

  ‚óè PostRepository Integration Tests ‚Ä∫ count ‚Ä∫ should count total posts

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/post/post.repository.integration.spec.ts:16:18)

  ‚óè PostRepository Integration Tests ‚Ä∫ count ‚Ä∫ should not count soft-deleted posts

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/post/post.repository.integration.spec.ts:16:18)

  ‚óè PostRepository Integration Tests ‚Ä∫ countByAuthorId ‚Ä∫ should count posts by author

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/post/post.repository.integration.spec.ts:16:18)

  ‚óè PostRepository Integration Tests ‚Ä∫ countByAuthorId ‚Ä∫ should return 0 for author with no posts

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/post/post.repository.integration.spec.ts:16:18)

  ‚óè PostRepository Integration Tests ‚Ä∫ domain mapping ‚Ä∫ should correctly preserve post status transitions

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/post/post.repository.integration.spec.ts:16:18)

  ‚óè PostRepository Integration Tests ‚Ä∫ domain mapping ‚Ä∫ should preserve view count

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/post/post.repository.integration.spec.ts:16:18)

  ‚óè PostRepository Integration Tests ‚Ä∫ domain mapping ‚Ä∫ should preserve all domain properties

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/post/post.repository.integration.spec.ts:16:18)

FAIL integration test/integration/outbox/outbox.processor.integration.spec.ts (11.402 s)
  ‚óè OutboxProcessor Integration Tests ‚Ä∫ process ‚Ä∫ should process unpublished events and mark them as published

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/outbox/outbox.processor.integration.spec.ts:17:18)

  ‚óè OutboxProcessor Integration Tests ‚Ä∫ process ‚Ä∫ should do nothing when no unpublished events exist

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/outbox/outbox.processor.integration.spec.ts:17:18)

  ‚óè OutboxProcessor Integration Tests ‚Ä∫ process ‚Ä∫ should record failure when Kafka publish fails

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/outbox/outbox.processor.integration.spec.ts:17:18)

  ‚óè OutboxProcessor Integration Tests ‚Ä∫ process ‚Ä∫ should handle mixed success and failure scenarios

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/outbox/outbox.processor.integration.spec.ts:17:18)

  ‚óè OutboxProcessor Integration Tests ‚Ä∫ process ‚Ä∫ should process up to 100 events per job

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/outbox/outbox.processor.integration.spec.ts:17:18)

  ‚óè OutboxProcessor Integration Tests ‚Ä∫ process ‚Ä∫ should include all event metadata in Kafka message

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/outbox/outbox.processor.integration.spec.ts:17:18)

  ‚óè OutboxProcessor Integration Tests ‚Ä∫ retry mechanism ‚Ä∫ should increment retry count on failure

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/outbox/outbox.processor.integration.spec.ts:17:18)

  ‚óè OutboxProcessor Integration Tests ‚Ä∫ retry mechanism ‚Ä∫ should eventually succeed after retries

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/outbox/outbox.processor.integration.spec.ts:17:18)

FAIL unit test/unit/user/application/create-user.use-case.spec.ts
  ‚óè CreateUserUseCase ‚Ä∫ execute ‚Ä∫ should create a new user successfully

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 54 |[39m
     [90m 55 |[39m     [36mreturn[39m [36mnew[39m [33mUser[39m(
    [31m[1m>[22m[39m[90m 56 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 57 |[39m       emailVo[33m,[39m
     [90m 58 |[39m       passwordVo[33m,[39m
     [90m 59 |[39m       userName[33m.[39mtrim()[33m,[39m[0m

      at Function.createAsync (src/modules/user/domain/entities/user.entity.ts:56:11)
      at CreateUserUseCase.execute (src/modules/user/application/use-cases/create-user.use-case.ts:22:18)
      at Object.<anonymous> (test/unit/user/application/create-user.use-case.spec.ts:41:22)

  ‚óè CreateUserUseCase ‚Ä∫ execute ‚Ä∫ should create user with custom role

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 54 |[39m
     [90m 55 |[39m     [36mreturn[39m [36mnew[39m [33mUser[39m(
    [31m[1m>[22m[39m[90m 56 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 57 |[39m       emailVo[33m,[39m
     [90m 58 |[39m       passwordVo[33m,[39m
     [90m 59 |[39m       userName[33m.[39mtrim()[33m,[39m[0m

      at Function.createAsync (src/modules/user/domain/entities/user.entity.ts:56:11)
      at CreateUserUseCase.execute (src/modules/user/application/use-cases/create-user.use-case.ts:22:18)
      at Object.<anonymous> (test/unit/user/application/create-user.use-case.spec.ts:63:22)

  ‚óè CreateUserUseCase ‚Ä∫ execute ‚Ä∫ should throw error if user with email already exists

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 54 |[39m
     [90m 55 |[39m     [36mreturn[39m [36mnew[39m [33mUser[39m(
    [31m[1m>[22m[39m[90m 56 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 57 |[39m       emailVo[33m,[39m
     [90m 58 |[39m       passwordVo[33m,[39m
     [90m 59 |[39m       userName[33m.[39mtrim()[33m,[39m[0m

      at Function.createAsync (src/modules/user/domain/entities/user.entity.ts:56:11)
      at Object.<anonymous> (test/unit/user/application/create-user.use-case.spec.ts:75:28)

  ‚óè CreateUserUseCase ‚Ä∫ execute ‚Ä∫ should persist user with hashed password

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 54 |[39m
     [90m 55 |[39m     [36mreturn[39m [36mnew[39m [33mUser[39m(
    [31m[1m>[22m[39m[90m 56 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 57 |[39m       emailVo[33m,[39m
     [90m 58 |[39m       passwordVo[33m,[39m
     [90m 59 |[39m       userName[33m.[39mtrim()[33m,[39m[0m

      at Function.createAsync (src/modules/user/domain/entities/user.entity.ts:56:11)
      at CreateUserUseCase.execute (src/modules/user/application/use-cases/create-user.use-case.ts:22:18)
      at Object.<anonymous> (test/unit/user/application/create-user.use-case.spec.ts:141:22)

  ‚óè CreateUserUseCase ‚Ä∫ execute ‚Ä∫ should handle repository save errors

    expect(received).rejects.toThrow(expected)

    Expected substring: "Database connection failed"
    Received message:   "(0 , uuid_1.v7) is not a function"

        [0m [90m 54 |[39m
         [90m 55 |[39m     [36mreturn[39m [36mnew[39m [33mUser[39m(
        [31m[1m>[22m[39m[90m 56 |[39m       uuid()[33m,[39m
         [90m    |[39m           [31m[1m^[22m[39m
         [90m 57 |[39m       emailVo[33m,[39m
         [90m 58 |[39m       passwordVo[33m,[39m
         [90m 59 |[39m       userName[33m.[39mtrim()[33m,[39m[0m

      at Function.createAsync (src/modules/user/domain/entities/user.entity.ts:56:11)
      at CreateUserUseCase.execute (src/modules/user/application/use-cases/create-user.use-case.ts:22:18)
      at Object.<anonymous> (test/unit/user/application/create-user.use-case.spec.ts:158:7)
      at Object.toThrow (node_modules/.pnpm/expect@30.2.0/node_modules/expect/build/index.js:2155:20)
      at Object.<anonymous> (test/unit/user/application/create-user.use-case.spec.ts:158:50)

  ‚óè CreateUserUseCase ‚Ä∫ execute ‚Ä∫ should set correct default values

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 54 |[39m
     [90m 55 |[39m     [36mreturn[39m [36mnew[39m [33mUser[39m(
    [31m[1m>[22m[39m[90m 56 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 57 |[39m       emailVo[33m,[39m
     [90m 58 |[39m       passwordVo[33m,[39m
     [90m 59 |[39m       userName[33m.[39mtrim()[33m,[39m[0m

      at Function.createAsync (src/modules/user/domain/entities/user.entity.ts:56:11)
      at CreateUserUseCase.execute (src/modules/user/application/use-cases/create-user.use-case.ts:22:18)
      at Object.<anonymous> (test/unit/user/application/create-user.use-case.spec.ts:171:22)

FAIL unit test/unit/user/domain/user.entity.spec.ts
  ‚óè User Entity ‚Ä∫ create ‚Ä∫ should create a new user with valid data

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 54 |[39m
     [90m 55 |[39m     [36mreturn[39m [36mnew[39m [33mUser[39m(
    [31m[1m>[22m[39m[90m 56 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 57 |[39m       emailVo[33m,[39m
     [90m 58 |[39m       passwordVo[33m,[39m
     [90m 59 |[39m       userName[33m.[39mtrim()[33m,[39m[0m

      at Function.createAsync (src/modules/user/domain/entities/user.entity.ts:56:11)
      at Object.<anonymous> (test/unit/user/domain/user.entity.spec.ts:11:20)

  ‚óè User Entity ‚Ä∫ create ‚Ä∫ should create a user with custom role

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 54 |[39m
     [90m 55 |[39m     [36mreturn[39m [36mnew[39m [33mUser[39m(
    [31m[1m>[22m[39m[90m 56 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 57 |[39m       emailVo[33m,[39m
     [90m 58 |[39m       passwordVo[33m,[39m
     [90m 59 |[39m       userName[33m.[39mtrim()[33m,[39m[0m

      at Function.createAsync (src/modules/user/domain/entities/user.entity.ts:56:11)
      at Object.<anonymous> (test/unit/user/domain/user.entity.spec.ts:25:20)

  ‚óè User Entity ‚Ä∫ create ‚Ä∫ should create a user with OAuth provider

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 54 |[39m
     [90m 55 |[39m     [36mreturn[39m [36mnew[39m [33mUser[39m(
    [31m[1m>[22m[39m[90m 56 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 57 |[39m       emailVo[33m,[39m
     [90m 58 |[39m       passwordVo[33m,[39m
     [90m 59 |[39m       userName[33m.[39mtrim()[33m,[39m[0m

      at Function.createAsync (src/modules/user/domain/entities/user.entity.ts:56:11)
      at Function.createAsync [as create] (src/modules/user/domain/entities/user.entity.ts:28:17)
      at Object.<anonymous> (test/unit/user/domain/user.entity.spec.ts:31:31)

  ‚óè User Entity ‚Ä∫ updateProfile ‚Ä∫ should update user name

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 54 |[39m
     [90m 55 |[39m     [36mreturn[39m [36mnew[39m [33mUser[39m(
    [31m[1m>[22m[39m[90m 56 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 57 |[39m       emailVo[33m,[39m
     [90m 58 |[39m       passwordVo[33m,[39m
     [90m 59 |[39m       userName[33m.[39mtrim()[33m,[39m[0m

      at Function.createAsync (src/modules/user/domain/entities/user.entity.ts:56:11)
      at Object.<anonymous> (test/unit/user/domain/user.entity.spec.ts:79:20)

  ‚óè User Entity ‚Ä∫ updateProfile ‚Ä∫ should update email

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 54 |[39m
     [90m 55 |[39m     [36mreturn[39m [36mnew[39m [33mUser[39m(
    [31m[1m>[22m[39m[90m 56 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 57 |[39m       emailVo[33m,[39m
     [90m 58 |[39m       passwordVo[33m,[39m
     [90m 59 |[39m       userName[33m.[39mtrim()[33m,[39m[0m

      at Function.createAsync (src/modules/user/domain/entities/user.entity.ts:56:11)
      at Object.<anonymous> (test/unit/user/domain/user.entity.spec.ts:87:20)

  ‚óè User Entity ‚Ä∫ updateProfile ‚Ä∫ should update both user name and email

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 54 |[39m
     [90m 55 |[39m     [36mreturn[39m [36mnew[39m [33mUser[39m(
    [31m[1m>[22m[39m[90m 56 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 57 |[39m       emailVo[33m,[39m
     [90m 58 |[39m       passwordVo[33m,[39m
     [90m 59 |[39m       userName[33m.[39mtrim()[33m,[39m[0m

      at Function.createAsync (src/modules/user/domain/entities/user.entity.ts:56:11)
      at Object.<anonymous> (test/unit/user/domain/user.entity.spec.ts:95:20)

  ‚óè User Entity ‚Ä∫ updateProfile ‚Ä∫ should throw error for invalid email

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 54 |[39m
     [90m 55 |[39m     [36mreturn[39m [36mnew[39m [33mUser[39m(
    [31m[1m>[22m[39m[90m 56 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 57 |[39m       emailVo[33m,[39m
     [90m 58 |[39m       passwordVo[33m,[39m
     [90m 59 |[39m       userName[33m.[39mtrim()[33m,[39m[0m

      at Function.createAsync (src/modules/user/domain/entities/user.entity.ts:56:11)
      at Object.<anonymous> (test/unit/user/domain/user.entity.spec.ts:104:20)

  ‚óè User Entity ‚Ä∫ updateProfile ‚Ä∫ should throw error for empty user name

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 54 |[39m
     [90m 55 |[39m     [36mreturn[39m [36mnew[39m [33mUser[39m(
    [31m[1m>[22m[39m[90m 56 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 57 |[39m       emailVo[33m,[39m
     [90m 58 |[39m       passwordVo[33m,[39m
     [90m 59 |[39m       userName[33m.[39mtrim()[33m,[39m[0m

      at Function.createAsync (src/modules/user/domain/entities/user.entity.ts:56:11)
      at Object.<anonymous> (test/unit/user/domain/user.entity.spec.ts:110:20)

  ‚óè User Entity ‚Ä∫ changePassword ‚Ä∫ should change password successfully

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 54 |[39m
     [90m 55 |[39m     [36mreturn[39m [36mnew[39m [33mUser[39m(
    [31m[1m>[22m[39m[90m 56 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 57 |[39m       emailVo[33m,[39m
     [90m 58 |[39m       passwordVo[33m,[39m
     [90m 59 |[39m       userName[33m.[39mtrim()[33m,[39m[0m

      at Function.createAsync (src/modules/user/domain/entities/user.entity.ts:56:11)
      at Object.<anonymous> (test/unit/user/domain/user.entity.spec.ts:118:20)

  ‚óè User Entity ‚Ä∫ changePassword ‚Ä∫ should throw error for weak new password

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 54 |[39m
     [90m 55 |[39m     [36mreturn[39m [36mnew[39m [33mUser[39m(
    [31m[1m>[22m[39m[90m 56 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 57 |[39m       emailVo[33m,[39m
     [90m 58 |[39m       passwordVo[33m,[39m
     [90m 59 |[39m       userName[33m.[39mtrim()[33m,[39m[0m

      at Function.createAsync (src/modules/user/domain/entities/user.entity.ts:56:11)
      at Object.<anonymous> (test/unit/user/domain/user.entity.spec.ts:129:20)

  ‚óè User Entity ‚Ä∫ changePassword ‚Ä∫ should throw error when trying to change password for OAuth users

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 54 |[39m
     [90m 55 |[39m     [36mreturn[39m [36mnew[39m [33mUser[39m(
    [31m[1m>[22m[39m[90m 56 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 57 |[39m       emailVo[33m,[39m
     [90m 58 |[39m       passwordVo[33m,[39m
     [90m 59 |[39m       userName[33m.[39mtrim()[33m,[39m[0m

      at Function.createAsync (src/modules/user/domain/entities/user.entity.ts:56:11)
      at Function.createAsync [as create] (src/modules/user/domain/entities/user.entity.ts:28:17)
      at Object.<anonymous> (test/unit/user/domain/user.entity.spec.ts:135:31)

  ‚óè User Entity ‚Ä∫ verifyPassword ‚Ä∫ should verify correct password

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 54 |[39m
     [90m 55 |[39m     [36mreturn[39m [36mnew[39m [33mUser[39m(
    [31m[1m>[22m[39m[90m 56 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 57 |[39m       emailVo[33m,[39m
     [90m 58 |[39m       passwordVo[33m,[39m
     [90m 59 |[39m       userName[33m.[39mtrim()[33m,[39m[0m

      at Function.createAsync (src/modules/user/domain/entities/user.entity.ts:56:11)
      at Object.<anonymous> (test/unit/user/domain/user.entity.spec.ts:151:20)

  ‚óè User Entity ‚Ä∫ verifyPassword ‚Ä∫ should reject incorrect password

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 54 |[39m
     [90m 55 |[39m     [36mreturn[39m [36mnew[39m [33mUser[39m(
    [31m[1m>[22m[39m[90m 56 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 57 |[39m       emailVo[33m,[39m
     [90m 58 |[39m       passwordVo[33m,[39m
     [90m 59 |[39m       userName[33m.[39mtrim()[33m,[39m[0m

      at Function.createAsync (src/modules/user/domain/entities/user.entity.ts:56:11)
      at Object.<anonymous> (test/unit/user/domain/user.entity.spec.ts:159:20)

  ‚óè User Entity ‚Ä∫ verifyPassword ‚Ä∫ should return false for OAuth users without password

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 54 |[39m
     [90m 55 |[39m     [36mreturn[39m [36mnew[39m [33mUser[39m(
    [31m[1m>[22m[39m[90m 56 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 57 |[39m       emailVo[33m,[39m
     [90m 58 |[39m       passwordVo[33m,[39m
     [90m 59 |[39m       userName[33m.[39mtrim()[33m,[39m[0m

      at Function.createAsync (src/modules/user/domain/entities/user.entity.ts:56:11)
      at Function.createAsync [as create] (src/modules/user/domain/entities/user.entity.ts:28:17)
      at Object.<anonymous> (test/unit/user/domain/user.entity.spec.ts:167:31)

  ‚óè User Entity ‚Ä∫ activate and deactivate ‚Ä∫ should activate user

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 54 |[39m
     [90m 55 |[39m     [36mreturn[39m [36mnew[39m [33mUser[39m(
    [31m[1m>[22m[39m[90m 56 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 57 |[39m       emailVo[33m,[39m
     [90m 58 |[39m       passwordVo[33m,[39m
     [90m 59 |[39m       userName[33m.[39mtrim()[33m,[39m[0m

      at Function.createAsync (src/modules/user/domain/entities/user.entity.ts:56:11)
      at Object.<anonymous> (test/unit/user/domain/user.entity.spec.ts:183:20)

  ‚óè User Entity ‚Ä∫ activate and deactivate ‚Ä∫ should deactivate user

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 54 |[39m
     [90m 55 |[39m     [36mreturn[39m [36mnew[39m [33mUser[39m(
    [31m[1m>[22m[39m[90m 56 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 57 |[39m       emailVo[33m,[39m
     [90m 58 |[39m       passwordVo[33m,[39m
     [90m 59 |[39m       userName[33m.[39mtrim()[33m,[39m[0m

      at Function.createAsync (src/modules/user/domain/entities/user.entity.ts:56:11)
      at Object.<anonymous> (test/unit/user/domain/user.entity.spec.ts:192:20)

  ‚óè User Entity ‚Ä∫ activate and deactivate ‚Ä∫ should create active user by default

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 54 |[39m
     [90m 55 |[39m     [36mreturn[39m [36mnew[39m [33mUser[39m(
    [31m[1m>[22m[39m[90m 56 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 57 |[39m       emailVo[33m,[39m
     [90m 58 |[39m       passwordVo[33m,[39m
     [90m 59 |[39m       userName[33m.[39mtrim()[33m,[39m[0m

      at Function.createAsync (src/modules/user/domain/entities/user.entity.ts:56:11)
      at Object.<anonymous> (test/unit/user/domain/user.entity.spec.ts:200:20)

  ‚óè User Entity ‚Ä∫ role management ‚Ä∫ should promote user to admin

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 54 |[39m
     [90m 55 |[39m     [36mreturn[39m [36mnew[39m [33mUser[39m(
    [31m[1m>[22m[39m[90m 56 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 57 |[39m       emailVo[33m,[39m
     [90m 58 |[39m       passwordVo[33m,[39m
     [90m 59 |[39m       userName[33m.[39mtrim()[33m,[39m[0m

      at Function.createAsync (src/modules/user/domain/entities/user.entity.ts:56:11)
      at Object.<anonymous> (test/unit/user/domain/user.entity.spec.ts:208:20)

  ‚óè User Entity ‚Ä∫ role management ‚Ä∫ should promote user to moderator

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 54 |[39m
     [90m 55 |[39m     [36mreturn[39m [36mnew[39m [33mUser[39m(
    [31m[1m>[22m[39m[90m 56 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 57 |[39m       emailVo[33m,[39m
     [90m 58 |[39m       passwordVo[33m,[39m
     [90m 59 |[39m       userName[33m.[39mtrim()[33m,[39m[0m

      at Function.createAsync (src/modules/user/domain/entities/user.entity.ts:56:11)
      at Object.<anonymous> (test/unit/user/domain/user.entity.spec.ts:216:20)

  ‚óè User Entity ‚Ä∫ role management ‚Ä∫ should demote user back to user role

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 54 |[39m
     [90m 55 |[39m     [36mreturn[39m [36mnew[39m [33mUser[39m(
    [31m[1m>[22m[39m[90m 56 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 57 |[39m       emailVo[33m,[39m
     [90m 58 |[39m       passwordVo[33m,[39m
     [90m 59 |[39m       userName[33m.[39mtrim()[33m,[39m[0m

      at Function.createAsync (src/modules/user/domain/entities/user.entity.ts:56:11)
      at Object.<anonymous> (test/unit/user/domain/user.entity.spec.ts:224:20)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/integration/post-transaction.spec.ts.

      at Function.load (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/platform/PlatformTools.ts:82:28)
      at PostgresDriver.loadDependencies (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/driver/postgres/PostgresDriver.ts:1482:67)
      at new PostgresDriver (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/driver/postgres/PostgresDriver.ts:321:14)
      at DriverFactory.create (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/driver/DriverFactory.ts:36:24)
      at new DataSource (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:150:43)
      at createTypeormDataSource (node_modules/.pnpm/@nestjs+typeorm@11.0.0_@nes_9202825f22234c418655b2e47c2e923e/node_modules/@nestjs/typeorm/dist/typeorm-core.module.js:164:23)
      at node_modules/.pnpm/@nestjs+typeorm@11.0.0_@nes_9202825f22234c418655b2e47c2e923e/node_modules/@nestjs/typeorm/dist/typeorm-core.module.js:169:36
      at Observable._subscribe (node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/src/internal/observable/defer.ts:54:15)
      at Observable._trySubscribe (node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/src/internal/Observable.ts:235:19)
      at node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/src/internal/Observable.ts:225:18
      at Object.errorContext (node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/src/internal/util/errorContext.ts:29:5)
      at Observable.subscribe (node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/src/internal/Observable.ts:211:5)
      at subscribeForRetryWhen (node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/src/internal/operators/retryWhen.ts:74:25)
      at node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/src/internal/operators/retryWhen.ts:85:28
      at OperatorSubscriber._this._next (node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/src/internal/operators/OperatorSubscriber.ts:70:13)
      at OperatorSubscriber.Subscriber.next (node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/src/internal/Subscriber.ts:71:12)
      at node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/src/internal/operators/mergeInternals.ts:85:24
      at OperatorSubscriber._this._next (node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/src/internal/operators/OperatorSubscriber.ts:70:13)
      at OperatorSubscriber.Subscriber.next (node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/src/internal/Subscriber.ts:71:12)
      at node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/src/internal/operators/map.ts:57:20
      at OperatorSubscriber._this._next (node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/src/internal/operators/OperatorSubscriber.ts:70:13)
      at OperatorSubscriber.Subscriber.next (node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/src/internal/Subscriber.ts:71:12)
      at node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/src/internal/operators/take.ts:60:26
      at OperatorSubscriber._this._next (node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/src/internal/operators/OperatorSubscriber.ts:70:13)
      at OperatorSubscriber.Subscriber.next (node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/src/internal/Subscriber.ts:71:12)
      at AsyncAction.work (node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/src/internal/observable/timer.ts:173:20)
      at AsyncAction._execute (node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/src/internal/scheduler/AsyncAction.ts:119:12)
      at AsyncAction.execute (node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/src/internal/scheduler/AsyncAction.ts:94:24)
      at AsyncScheduler.flush (node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/src/internal/scheduler/AsyncScheduler.ts:38:27)
[31m[Nest] 16832  - [39m11/24/2025, 10:21:37 AM [31m  ERROR[39m [38;5;3m[TypeOrmModule] [39m[31mUnable to connect to the database. Retrying (3)...[39m
FAIL unit test/unit/i18n/i18n-helper.service.spec.ts
  ‚óè I18nHelperService ‚Ä∫ translate ‚Ä∫ should translate English messages

    expect(received).toBe(expected) // Object.is equality

    Expected: "Welcome to Clean Architecture API"
    Received: "common.welcome"

    [0m [90m 28 |[39m         lang[33m:[39m [32m'en'[39m[33m,[39m
     [90m 29 |[39m       })[33m;[39m
    [31m[1m>[22m[39m[90m 30 |[39m       expect(result)[33m.[39mtoBe([32m'Welcome to Clean Architecture API'[39m)[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 31 |[39m     })[33m;[39m
     [90m 32 |[39m
     [90m 33 |[39m     it([32m'should translate Vietnamese messages'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (test/unit/i18n/i18n-helper.service.spec.ts:30:22)

  ‚óè I18nHelperService ‚Ä∫ translate ‚Ä∫ should translate Vietnamese messages

    expect(received).toBe(expected) // Object.is equality

    Expected: "Ch√†o m·ª´ng ƒë·∫øn v·ªõi Clean Architecture API"
    Received: "common.welcome"

    [0m [90m 35 |[39m         lang[33m:[39m [32m'vi'[39m[33m,[39m
     [90m 36 |[39m       })[33m;[39m
    [31m[1m>[22m[39m[90m 37 |[39m       expect(result)[33m.[39mtoBe([32m'Ch√†o m·ª´ng ƒë·∫øn v·ªõi Clean Architecture API'[39m)[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 38 |[39m     })[33m;[39m
     [90m 39 |[39m
     [90m 40 |[39m     it([32m'should translate Japanese messages'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (test/unit/i18n/i18n-helper.service.spec.ts:37:22)

  ‚óè I18nHelperService ‚Ä∫ translate ‚Ä∫ should translate Japanese messages

    expect(received).toBe(expected) // Object.is equality

    Expected: "Clean Architecture API„Å∏„Çà„ÅÜ„Åì„Åù"
    Received: "common.welcome"

    [0m [90m 42 |[39m         lang[33m:[39m [32m'ja'[39m[33m,[39m
     [90m 43 |[39m       })[33m;[39m
    [31m[1m>[22m[39m[90m 44 |[39m       expect(result)[33m.[39mtoBe([32m'Clean Architecture API„Å∏„Çà„ÅÜ„Åì„Åù'[39m)[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 45 |[39m     })[33m;[39m
     [90m 46 |[39m
     [90m 47 |[39m     it([32m'should interpolate variables in translations'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (test/unit/i18n/i18n-helper.service.spec.ts:44:22)

  ‚óè I18nHelperService ‚Ä∫ translate ‚Ä∫ should interpolate variables in translations

    expect(received).toBe(expected) // Object.is equality

    Expected: "password must be at least 8 characters"
    Received: "validation.minLength"

    [0m [90m 50 |[39m         args[33m:[39m { field[33m:[39m [32m'password'[39m[33m,[39m min[33m:[39m [35m8[39m }[33m,[39m
     [90m 51 |[39m       })[33m;[39m
    [31m[1m>[22m[39m[90m 52 |[39m       expect(result)[33m.[39mtoBe([32m'password must be at least 8 characters'[39m)[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 53 |[39m     })[33m;[39m
     [90m 54 |[39m   })[33m;[39m
     [90m 55 |[39m[0m

      at Object.<anonymous> (test/unit/i18n/i18n-helper.service.spec.ts:52:22)

FAIL unit test/unit/post/application/publish-post.use-case.spec.ts
  ‚óè PublishPostUseCase ‚Ä∫ execute ‚Ä∫ should publish a draft post successfully

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 39 |[39m
     [90m 40 |[39m     [36mreturn[39m [36mnew[39m [33mPost[39m(
    [31m[1m>[22m[39m[90m 41 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 42 |[39m       authorId[33m,[39m
     [90m 43 |[39m       title[33m.[39mtrim()[33m,[39m
     [90m 44 |[39m       content[33m.[39mtrim()[33m,[39m[0m

      at Function.create (src/modules/post/domain/aggregates/post.aggregate.ts:41:11)
      at Object.<anonymous> (test/unit/post/application/publish-post.use-case.spec.ts:34:30)

  ‚óè PublishPostUseCase ‚Ä∫ execute ‚Ä∫ should generate domain events when publishing

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 39 |[39m
     [90m 40 |[39m     [36mreturn[39m [36mnew[39m [33mPost[39m(
    [31m[1m>[22m[39m[90m 41 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 42 |[39m       authorId[33m,[39m
     [90m 43 |[39m       title[33m.[39mtrim()[33m,[39m
     [90m 44 |[39m       content[33m.[39mtrim()[33m,[39m[0m

      at Function.create (src/modules/post/domain/aggregates/post.aggregate.ts:41:11)
      at Object.<anonymous> (test/unit/post/application/publish-post.use-case.spec.ts:52:30)

  ‚óè PublishPostUseCase ‚Ä∫ execute ‚Ä∫ should handle repository errors

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 39 |[39m
     [90m 40 |[39m     [36mreturn[39m [36mnew[39m [33mPost[39m(
    [31m[1m>[22m[39m[90m 41 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 42 |[39m       authorId[33m,[39m
     [90m 43 |[39m       title[33m.[39mtrim()[33m,[39m
     [90m 44 |[39m       content[33m.[39mtrim()[33m,[39m[0m

      at Function.create (src/modules/post/domain/aggregates/post.aggregate.ts:41:11)
      at Object.<anonymous> (test/unit/post/application/publish-post.use-case.spec.ts:128:30)

  ‚óè PublishPostUseCase ‚Ä∫ execute ‚Ä∫ should use saveWithTransaction for atomicity

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 39 |[39m
     [90m 40 |[39m     [36mreturn[39m [36mnew[39m [33mPost[39m(
    [31m[1m>[22m[39m[90m 41 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 42 |[39m       authorId[33m,[39m
     [90m 43 |[39m       title[33m.[39mtrim()[33m,[39m
     [90m 44 |[39m       content[33m.[39mtrim()[33m,[39m[0m

      at Function.create (src/modules/post/domain/aggregates/post.aggregate.ts:41:11)
      at Object.<anonymous> (test/unit/post/application/publish-post.use-case.spec.ts:138:30)

FAIL unit test/unit/post/domain/post.aggregate.spec.ts
  ‚óè Post Aggregate ‚Ä∫ create ‚Ä∫ should create a new post with valid data

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 39 |[39m
     [90m 40 |[39m     [36mreturn[39m [36mnew[39m [33mPost[39m(
    [31m[1m>[22m[39m[90m 41 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 42 |[39m       authorId[33m,[39m
     [90m 43 |[39m       title[33m.[39mtrim()[33m,[39m
     [90m 44 |[39m       content[33m.[39mtrim()[33m,[39m[0m

      at Function.create (src/modules/post/domain/aggregates/post.aggregate.ts:41:11)
      at Object.<anonymous> (test/unit/post/domain/post.aggregate.spec.ts:11:25)

  ‚óè Post Aggregate ‚Ä∫ create ‚Ä∫ should create post with custom slug

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 39 |[39m
     [90m 40 |[39m     [36mreturn[39m [36mnew[39m [33mPost[39m(
    [31m[1m>[22m[39m[90m 41 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 42 |[39m       authorId[33m,[39m
     [90m 43 |[39m       title[33m.[39mtrim()[33m,[39m
     [90m 44 |[39m       content[33m.[39mtrim()[33m,[39m[0m

      at Function.create (src/modules/post/domain/aggregates/post.aggregate.ts:41:11)
      at Object.<anonymous> (test/unit/post/domain/post.aggregate.spec.ts:27:25)

  ‚óè Post Aggregate ‚Ä∫ create ‚Ä∫ should generate slug from title

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 39 |[39m
     [90m 40 |[39m     [36mreturn[39m [36mnew[39m [33mPost[39m(
    [31m[1m>[22m[39m[90m 41 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 42 |[39m       authorId[33m,[39m
     [90m 43 |[39m       title[33m.[39mtrim()[33m,[39m
     [90m 44 |[39m       content[33m.[39mtrim()[33m,[39m[0m

      at Function.create (src/modules/post/domain/aggregates/post.aggregate.ts:41:11)
      at Object.<anonymous> (test/unit/post/domain/post.aggregate.spec.ts:33:25)

  ‚óè Post Aggregate ‚Ä∫ create ‚Ä∫ should handle special characters in slug generation

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 39 |[39m
     [90m 40 |[39m     [36mreturn[39m [36mnew[39m [33mPost[39m(
    [31m[1m>[22m[39m[90m 41 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 42 |[39m       authorId[33m,[39m
     [90m 43 |[39m       title[33m.[39mtrim()[33m,[39m
     [90m 44 |[39m       content[33m.[39mtrim()[33m,[39m[0m

      at Function.create (src/modules/post/domain/aggregates/post.aggregate.ts:41:11)
      at Object.<anonymous> (test/unit/post/domain/post.aggregate.spec.ts:39:25)

  ‚óè Post Aggregate ‚Ä∫ create ‚Ä∫ should trim whitespace from title and content

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 39 |[39m
     [90m 40 |[39m     [36mreturn[39m [36mnew[39m [33mPost[39m(
    [31m[1m>[22m[39m[90m 41 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 42 |[39m       authorId[33m,[39m
     [90m 43 |[39m       title[33m.[39mtrim()[33m,[39m
     [90m 44 |[39m       content[33m.[39mtrim()[33m,[39m[0m

      at Function.create (src/modules/post/domain/aggregates/post.aggregate.ts:41:11)
      at Object.<anonymous> (test/unit/post/domain/post.aggregate.spec.ts:71:25)

  ‚óè Post Aggregate ‚Ä∫ publish ‚Ä∫ should publish a draft post

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 39 |[39m
     [90m 40 |[39m     [36mreturn[39m [36mnew[39m [33mPost[39m(
    [31m[1m>[22m[39m[90m 41 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 42 |[39m       authorId[33m,[39m
     [90m 43 |[39m       title[33m.[39mtrim()[33m,[39m
     [90m 44 |[39m       content[33m.[39mtrim()[33m,[39m[0m

      at Function.create (src/modules/post/domain/aggregates/post.aggregate.ts:41:11)
      at Object.<anonymous> (test/unit/post/domain/post.aggregate.spec.ts:80:25)

  ‚óè Post Aggregate ‚Ä∫ publish ‚Ä∫ should throw error when publishing already published post

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 39 |[39m
     [90m 40 |[39m     [36mreturn[39m [36mnew[39m [33mPost[39m(
    [31m[1m>[22m[39m[90m 41 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 42 |[39m       authorId[33m,[39m
     [90m 43 |[39m       title[33m.[39mtrim()[33m,[39m
     [90m 44 |[39m       content[33m.[39mtrim()[33m,[39m[0m

      at Function.create (src/modules/post/domain/aggregates/post.aggregate.ts:41:11)
      at Object.<anonymous> (test/unit/post/domain/post.aggregate.spec.ts:100:25)

  ‚óè Post Aggregate ‚Ä∫ publish ‚Ä∫ should set publishedAt timestamp

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 39 |[39m
     [90m 40 |[39m     [36mreturn[39m [36mnew[39m [33mPost[39m(
    [31m[1m>[22m[39m[90m 41 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 42 |[39m       authorId[33m,[39m
     [90m 43 |[39m       title[33m.[39mtrim()[33m,[39m
     [90m 44 |[39m       content[33m.[39mtrim()[33m,[39m[0m

      at Function.create (src/modules/post/domain/aggregates/post.aggregate.ts:41:11)
      at Object.<anonymous> (test/unit/post/domain/post.aggregate.spec.ts:124:25)

  ‚óè Post Aggregate ‚Ä∫ archive ‚Ä∫ should archive a draft post

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 39 |[39m
     [90m 40 |[39m     [36mreturn[39m [36mnew[39m [33mPost[39m(
    [31m[1m>[22m[39m[90m 41 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 42 |[39m       authorId[33m,[39m
     [90m 43 |[39m       title[33m.[39mtrim()[33m,[39m
     [90m 44 |[39m       content[33m.[39mtrim()[33m,[39m[0m

      at Function.create (src/modules/post/domain/aggregates/post.aggregate.ts:41:11)
      at Object.<anonymous> (test/unit/post/domain/post.aggregate.spec.ts:136:25)

  ‚óè Post Aggregate ‚Ä∫ archive ‚Ä∫ should archive a published post

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 39 |[39m
     [90m 40 |[39m     [36mreturn[39m [36mnew[39m [33mPost[39m(
    [31m[1m>[22m[39m[90m 41 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 42 |[39m       authorId[33m,[39m
     [90m 43 |[39m       title[33m.[39mtrim()[33m,[39m
     [90m 44 |[39m       content[33m.[39mtrim()[33m,[39m[0m

      at Function.create (src/modules/post/domain/aggregates/post.aggregate.ts:41:11)
      at Object.<anonymous> (test/unit/post/domain/post.aggregate.spec.ts:151:25)

  ‚óè Post Aggregate ‚Ä∫ archive ‚Ä∫ should throw error when archiving already archived post

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 39 |[39m
     [90m 40 |[39m     [36mreturn[39m [36mnew[39m [33mPost[39m(
    [31m[1m>[22m[39m[90m 41 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 42 |[39m       authorId[33m,[39m
     [90m 43 |[39m       title[33m.[39mtrim()[33m,[39m
     [90m 44 |[39m       content[33m.[39mtrim()[33m,[39m[0m

      at Function.create (src/modules/post/domain/aggregates/post.aggregate.ts:41:11)
      at Object.<anonymous> (test/unit/post/domain/post.aggregate.spec.ts:161:25)

  ‚óè Post Aggregate ‚Ä∫ incrementViewCount ‚Ä∫ should increment view count

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 39 |[39m
     [90m 40 |[39m     [36mreturn[39m [36mnew[39m [33mPost[39m(
    [31m[1m>[22m[39m[90m 41 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 42 |[39m       authorId[33m,[39m
     [90m 43 |[39m       title[33m.[39mtrim()[33m,[39m
     [90m 44 |[39m       content[33m.[39mtrim()[33m,[39m[0m

      at Function.create (src/modules/post/domain/aggregates/post.aggregate.ts:41:11)
      at Object.<anonymous> (test/unit/post/domain/post.aggregate.spec.ts:170:25)

  ‚óè Post Aggregate ‚Ä∫ updateContent ‚Ä∫ should update title and content

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 39 |[39m
     [90m 40 |[39m     [36mreturn[39m [36mnew[39m [33mPost[39m(
    [31m[1m>[22m[39m[90m 41 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 42 |[39m       authorId[33m,[39m
     [90m 43 |[39m       title[33m.[39mtrim()[33m,[39m
     [90m 44 |[39m       content[33m.[39mtrim()[33m,[39m[0m

      at Function.create (src/modules/post/domain/aggregates/post.aggregate.ts:41:11)
      at Object.<anonymous> (test/unit/post/domain/post.aggregate.spec.ts:184:25)

  ‚óè Post Aggregate ‚Ä∫ updateContent ‚Ä∫ should update with custom slug

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 39 |[39m
     [90m 40 |[39m     [36mreturn[39m [36mnew[39m [33mPost[39m(
    [31m[1m>[22m[39m[90m 41 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 42 |[39m       authorId[33m,[39m
     [90m 43 |[39m       title[33m.[39mtrim()[33m,[39m
     [90m 44 |[39m       content[33m.[39mtrim()[33m,[39m[0m

      at Function.create (src/modules/post/domain/aggregates/post.aggregate.ts:41:11)
      at Object.<anonymous> (test/unit/post/domain/post.aggregate.spec.ts:194:25)

  ‚óè Post Aggregate ‚Ä∫ updateContent ‚Ä∫ should throw error for title exceeding 200 characters

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 39 |[39m
     [90m 40 |[39m     [36mreturn[39m [36mnew[39m [33mPost[39m(
    [31m[1m>[22m[39m[90m 41 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 42 |[39m       authorId[33m,[39m
     [90m 43 |[39m       title[33m.[39mtrim()[33m,[39m
     [90m 44 |[39m       content[33m.[39mtrim()[33m,[39m[0m

      at Function.create (src/modules/post/domain/aggregates/post.aggregate.ts:41:11)
      at Object.<anonymous> (test/unit/post/domain/post.aggregate.spec.ts:202:25)

  ‚óè Post Aggregate ‚Ä∫ updateContent ‚Ä∫ should trim whitespace

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 39 |[39m
     [90m 40 |[39m     [36mreturn[39m [36mnew[39m [33mPost[39m(
    [31m[1m>[22m[39m[90m 41 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 42 |[39m       authorId[33m,[39m
     [90m 43 |[39m       title[33m.[39mtrim()[33m,[39m
     [90m 44 |[39m       content[33m.[39mtrim()[33m,[39m[0m

      at Function.create (src/modules/post/domain/aggregates/post.aggregate.ts:41:11)
      at Object.<anonymous> (test/unit/post/domain/post.aggregate.spec.ts:211:25)

  ‚óè Post Aggregate ‚Ä∫ domain events ‚Ä∫ should clear domain events

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 39 |[39m
     [90m 40 |[39m     [36mreturn[39m [36mnew[39m [33mPost[39m(
    [31m[1m>[22m[39m[90m 41 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 42 |[39m       authorId[33m,[39m
     [90m 43 |[39m       title[33m.[39mtrim()[33m,[39m
     [90m 44 |[39m       content[33m.[39mtrim()[33m,[39m[0m

      at Function.create (src/modules/post/domain/aggregates/post.aggregate.ts:41:11)
      at Object.<anonymous> (test/unit/post/domain/post.aggregate.spec.ts:222:25)

  ‚óè Post Aggregate ‚Ä∫ domain events ‚Ä∫ should not mutate original events when getting

    TypeError: (0 , uuid_1.v7) is not a function

    [0m [90m 39 |[39m
     [90m 40 |[39m     [36mreturn[39m [36mnew[39m [33mPost[39m(
    [31m[1m>[22m[39m[90m 41 |[39m       uuid()[33m,[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 42 |[39m       authorId[33m,[39m
     [90m 43 |[39m       title[33m.[39mtrim()[33m,[39m
     [90m 44 |[39m       content[33m.[39mtrim()[33m,[39m[0m

      at Function.create (src/modules/post/domain/aggregates/post.aggregate.ts:41:11)
      at Object.<anonymous> (test/unit/post/domain/post.aggregate.spec.ts:233:25)

PASS unit test/unit/error-response.spec.ts
PASS unit test/unit/user/domain/password.vo.spec.ts
PASS unit test/unit/user/domain/email.vo.spec.ts
[31m[Nest] 16832  - [39m11/24/2025, 10:21:40 AM [31m  ERROR[39m [38;5;3m[TypeOrmModule] [39m[31mUnable to connect to the database. Retrying (4)...[39m
FAIL integration test/integration/user/user.repository.integration.spec.ts
  ‚óè UserRepository Integration Tests ‚Ä∫ save ‚Ä∫ should save a new user to the database

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/user/user.repository.integration.spec.ts:13:22)

  ‚óè UserRepository Integration Tests ‚Ä∫ save ‚Ä∫ should update an existing user

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/user/user.repository.integration.spec.ts:13:22)

  ‚óè UserRepository Integration Tests ‚Ä∫ findById ‚Ä∫ should find a user by ID

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/user/user.repository.integration.spec.ts:13:22)

  ‚óè UserRepository Integration Tests ‚Ä∫ findById ‚Ä∫ should return null for non-existent ID

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/user/user.repository.integration.spec.ts:13:22)

  ‚óè UserRepository Integration Tests ‚Ä∫ findByEmail ‚Ä∫ should find a user by email

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/user/user.repository.integration.spec.ts:13:22)

  ‚óè UserRepository Integration Tests ‚Ä∫ findByEmail ‚Ä∫ should return null for non-existent email

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/user/user.repository.integration.spec.ts:13:22)

  ‚óè UserRepository Integration Tests ‚Ä∫ findByEmail ‚Ä∫ should be case-sensitive for email lookup

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/user/user.repository.integration.spec.ts:13:22)

  ‚óè UserRepository Integration Tests ‚Ä∫ findAll ‚Ä∫ should return all users

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/user/user.repository.integration.spec.ts:13:22)

  ‚óè UserRepository Integration Tests ‚Ä∫ findAll ‚Ä∫ should support pagination with skip and take

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/user/user.repository.integration.spec.ts:13:22)

  ‚óè UserRepository Integration Tests ‚Ä∫ findAll ‚Ä∫ should return empty array when no users exist

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/user/user.repository.integration.spec.ts:13:22)

  ‚óè UserRepository Integration Tests ‚Ä∫ findAll ‚Ä∫ should order by createdAt DESC

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/user/user.repository.integration.spec.ts:13:22)

  ‚óè UserRepository Integration Tests ‚Ä∫ delete ‚Ä∫ should soft delete a user

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/user/user.repository.integration.spec.ts:13:22)

  ‚óè UserRepository Integration Tests ‚Ä∫ delete ‚Ä∫ should return false when deleting non-existent user

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/user/user.repository.integration.spec.ts:13:22)

  ‚óè UserRepository Integration Tests ‚Ä∫ count ‚Ä∫ should count total users

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/user/user.repository.integration.spec.ts:13:22)

  ‚óè UserRepository Integration Tests ‚Ä∫ count ‚Ä∫ should not count soft-deleted users

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/user/user.repository.integration.spec.ts:13:22)

  ‚óè UserRepository Integration Tests ‚Ä∫ domain mapping ‚Ä∫ should correctly map domain User to ORM entity and back

    Could not find a working container runtime strategy

    [0m [90m 11 |[39m   [36mstatic[39m [36masync[39m setupDatabase()[33m:[39m [33mPromise[39m[33m<[39m[33mDataSource[39m[33m>[39m {
     [90m 12 |[39m     [90m// Start PostgreSQL container[39m
    [31m[1m>[22m[39m[90m 13 |[39m     [36mthis[39m[33m.[39mcontainer [33m=[39m [36mawait[39m [36mnew[39m [33mPostgreSqlContainer[39m([32m'postgres:18-alpine'[39m)
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 14 |[39m       [33m.[39mwithDatabase([32m'test_db'[39m)
     [90m 15 |[39m       [33m.[39mwithUsername([32m'test_user'[39m)
     [90m 16 |[39m       [33m.[39mwithPassword([32m'test_password'[39m)[0m

      at getContainerRuntimeClient (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/container-runtime/clients/client.ts:63:9)
      at PostgreSqlContainer.start (node_modules/.pnpm/testcontainers@11.8.1/node_modules/testcontainers/src/generic-container/generic-container.ts:87:20)
      at PostgreSqlContainer.start (node_modules/.pnpm/@testcontainers+postgresql@11.8.1/node_modules/@testcontainers/postgresql/src/postgresql-container.ts:49:43)
      at Function.setupDatabase (test/helpers/database-test.helper.ts:13:22)
      at Object.<anonymous> (test/integration/user/user.repository.integration.spec.ts:13:22)

[31m[Nest] 16832  - [39m11/24/2025, 10:21:43 AM [31m  ERROR[39m [38;5;3m[TypeOrmModule] [39m[31mUnable to connect to the database. Retrying (5)...[39m
[31m[Nest] 16832  - [39m11/24/2025, 10:21:46 AM [31m  ERROR[39m [38;5;3m[TypeOrmModule] [39m[31mUnable to connect to the database. Retrying (6)...[39m
[31m[Nest] 16832  - [39m11/24/2025, 10:21:49 AM [31m  ERROR[39m [38;5;3m[TypeOrmModule] [39m[31mUnable to connect to the database. Retrying (7)...[39m
[31m[Nest] 16832  - [39m11/24/2025, 10:21:52 AM [31m  ERROR[39m [38;5;3m[TypeOrmModule] [39m[31mUnable to connect to the database. Retrying (8)...[39m
FAIL e2e test/e2e/auth.e2e-spec.ts (29.812 s)
  ‚óè Console

    console.warn
      {"level":"WARN","timestamp":"2025-11-24T03:21:52.040Z","logger":"kafkajs","message":"KafkaJS v2.0.0 switched default partitioner. To retain the same partitioning behavior as in previous versions, create the producer with the option \"createPartitioner: Partitioners.LegacyPartitioner\". See the migration guide at https://kafka.js.org/docs/migration-guide-v2.0.0#producer-new-default-partitioner for details. Silence this warning by setting the environment variable \"KAFKAJS_NO_PARTITIONER_WARNING=1\""}

    [0m [90m 17 |[39m   constructor([36mprivate[39m readonly configService[33m:[39m [33mAppConfigService[39m) {
     [90m 18 |[39m     [36mthis[39m[33m.[39mkafka [33m=[39m createKafkaClient(configService)[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m     [36mthis[39m[33m.[39mproducer [33m=[39m [36mthis[39m[33m.[39mkafka[33m.[39mproducer()[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 20 |[39m   }
     [90m 21 |[39m
     [90m 22 |[39m   [36masync[39m onModuleInit()[33m:[39m [33mPromise[39m[33m<[39m[36mvoid[39m[33m>[39m {[0m

      at node_modules/.pnpm/kafkajs@2.2.4/node_modules/kafkajs/src/loggers/console.js:17:22
      at Object.warn (node_modules/.pnpm/kafkajs@2.2.4/node_modules/kafkajs/src/loggers/index.js:16:3)
      at node_modules/.pnpm/kafkajs@2.2.4/node_modules/kafkajs/src/index.js:27:12
      at node_modules/.pnpm/kafkajs@2.2.4/node_modules/kafkajs/src/utils/once.js:7:14
      at Client.producer (node_modules/.pnpm/kafkajs@2.2.4/node_modules/kafkajs/src/index.js:120:7)
      at new producer (src/shared/messaging/kafka/kafka-producer.service.ts:19:32)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:418:19)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 14)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/auth.e2e-spec.ts:30:15)

  ‚óè Auth (e2e) ‚Ä∫ POST /api/users (Registration) ‚Ä∫ should create a new user

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/auth.e2e-spec.ts:30:15)

  ‚óè Auth (e2e) ‚Ä∫ POST /api/users (Registration) ‚Ä∫ should reject duplicate email

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/auth.e2e-spec.ts:30:15)

  ‚óè Auth (e2e) ‚Ä∫ POST /api/users (Registration) ‚Ä∫ should validate email format

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/auth.e2e-spec.ts:30:15)

  ‚óè Auth (e2e) ‚Ä∫ POST /api/users (Registration) ‚Ä∫ should validate password strength

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/auth.e2e-spec.ts:30:15)

  ‚óè Auth (e2e) ‚Ä∫ POST /api/auth/login ‚Ä∫ should login with valid credentials

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/auth.e2e-spec.ts:30:15)

  ‚óè Auth (e2e) ‚Ä∫ POST /api/auth/login ‚Ä∫ should reject invalid credentials

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/auth.e2e-spec.ts:30:15)

  ‚óè Auth (e2e) ‚Ä∫ POST /api/auth/login ‚Ä∫ should reject non-existent user

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/auth.e2e-spec.ts:30:15)

  ‚óè Auth (e2e) ‚Ä∫ Protected Routes ‚Ä∫ should access protected route with valid token

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/auth.e2e-spec.ts:30:15)

  ‚óè Auth (e2e) ‚Ä∫ Protected Routes ‚Ä∫ should reject request without token

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/auth.e2e-spec.ts:30:15)

  ‚óè Auth (e2e) ‚Ä∫ Protected Routes ‚Ä∫ should reject request with invalid token

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/auth.e2e-spec.ts:30:15)

  ‚óè Auth (e2e) ‚Ä∫ Protected Routes ‚Ä∫ should reject request with expired token

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/auth.e2e-spec.ts:30:15)

  ‚óè Auth (e2e) ‚Ä∫ POST /api/auth/refresh ‚Ä∫ should refresh access token with valid refresh token

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/auth.e2e-spec.ts:30:15)

  ‚óè Auth (e2e) ‚Ä∫ POST /api/auth/refresh ‚Ä∫ should reject invalid refresh token

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/auth.e2e-spec.ts:30:15)

  ‚óè Auth (e2e) ‚Ä∫ POST /api/auth/logout ‚Ä∫ should logout and invalidate tokens

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/auth.e2e-spec.ts:30:15)

  ‚óè Auth (e2e) ‚Ä∫ POST /api/auth/logout ‚Ä∫ should reject requests with logged out token

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/auth.e2e-spec.ts:30:15)

  ‚óè Auth (e2e) ‚Ä∫ Google OAuth Flow ‚Ä∫ should redirect to Google OAuth consent page

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/auth.e2e-spec.ts:30:15)

  ‚óè Auth (e2e) ‚Ä∫ Google OAuth Flow ‚Ä∫ should handle OAuth callback

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/auth.e2e-spec.ts:30:15)

  ‚óè Auth (e2e) ‚Ä∫ Token Security ‚Ä∫ should not leak sensitive information in error responses

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/auth.e2e-spec.ts:30:15)

  ‚óè Auth (e2e) ‚Ä∫ Token Security ‚Ä∫ should implement rate limiting on auth endpoints

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/auth.e2e-spec.ts:30:15)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "AggregateError: 
        at internalConnectMultiple (node:net:1134:18)
        at afterConnectMultiple (node:net:1715:7)
        at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
      code: 'ECONNREFUSED',
      [errors]: [
        Error: connect ECONNREFUSED ::1:6379
            at createConnectionError (node:net:1678:14)
            at afterConnectMultiple (node:net:1708:16)
            at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
          errno: -4078,
          code: 'ECONNREFUSED',
          syscall: 'connect',
          address: '::1',
          port: 6379
        },
        Error: connect ECONNREFUSED 127.0.0.1:6379
            at createConnectionError (node:net:1678:14)
            at afterConnectMultiple (node:net:1708:16)
            at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
          errno: -4078,
          code: 'ECONNREFUSED',
          syscall: 'connect',
          address: '127.0.0.1',
          port: 6379
        }
      ]
    }".

      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
        code: 'ECONNREFUSED',
        [errors]: [
          Error: connect ECONNREFUSED ::1:6379
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
            errno: -4078,
            code: 'ECONNREFUSED',
            syscall: 'connect',
            address: '::1',
            port: 6379
          },
          Error: connect ECONNREFUSED 127.0.0.1:6379
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
            errno: -4078,
            code: 'ECONNREFUSED',
            syscall: 'connect',
            address: '127.0.0.1',
            port: 6379
          }
        ]
      }".
      at console.error (node_modules/.pnpm/@jest+console@30.2.0/node_modules/@jest/console/build/index.js:124:10)
      at Queue.emit (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue-base.ts:129:17)
      at Queue.emit (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:192:18)
      at RedisConnection.<anonymous> (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue-base.ts:75:56)
      at EventEmitter.RedisConnection.handleClientError (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/redis-connection.ts:121:12)
      at EventEmitter.silentEmit (node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/Redis.js:484:30)
      at Socket.<anonymous> (node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/redis/event_handler.js:221:14)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "AggregateError: 
        at internalConnectMultiple (node:net:1134:18)
        at afterConnectMultiple (node:net:1715:7)
        at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
      code: 'ECONNREFUSED',
      [errors]: [
        Error: connect ECONNREFUSED ::1:6379
            at createConnectionError (node:net:1678:14)
            at afterConnectMultiple (node:net:1708:16)
            at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
          errno: -4078,
          code: 'ECONNREFUSED',
          syscall: 'connect',
          address: '::1',
          port: 6379
        },
        Error: connect ECONNREFUSED 127.0.0.1:6379
            at createConnectionError (node:net:1678:14)
            at afterConnectMultiple (node:net:1708:16)
            at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
          errno: -4078,
          code: 'ECONNREFUSED',
          syscall: 'connect',
          address: '127.0.0.1',
          port: 6379
        }
      ]
    }".

      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
        code: 'ECONNREFUSED',
        [errors]: [
          Error: connect ECONNREFUSED ::1:6379
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
            errno: -4078,
            code: 'ECONNREFUSED',
            syscall: 'connect',
            address: '::1',
            port: 6379
          },
          Error: connect ECONNREFUSED 127.0.0.1:6379
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
            errno: -4078,
            code: 'ECONNREFUSED',
            syscall: 'connect',
            address: '127.0.0.1',
            port: 6379
          }
        ]
      }".
      at console.error (node_modules/.pnpm/@jest+console@30.2.0/node_modules/@jest/console/build/index.js:124:10)
      at Queue.emit (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue-base.ts:129:17)
      at Queue.emit (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:192:18)
      at RedisConnection.<anonymous> (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue-base.ts:75:56)
      at EventEmitter.RedisConnection.handleClientError (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/redis-connection.ts:121:12)
      at EventEmitter.silentEmit (node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/Redis.js:484:30)
      at Socket.<anonymous> (node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/redis/event_handler.js:221:14)

FAIL e2e test/e2e/user.e2e-spec.ts (30.006 s)
  ‚óè Console

    console.warn
      {"level":"WARN","timestamp":"2025-11-24T03:21:52.084Z","logger":"kafkajs","message":"KafkaJS v2.0.0 switched default partitioner. To retain the same partitioning behavior as in previous versions, create the producer with the option \"createPartitioner: Partitioners.LegacyPartitioner\". See the migration guide at https://kafka.js.org/docs/migration-guide-v2.0.0#producer-new-default-partitioner for details. Silence this warning by setting the environment variable \"KAFKAJS_NO_PARTITIONER_WARNING=1\""}

    [0m [90m 17 |[39m   constructor([36mprivate[39m readonly configService[33m:[39m [33mAppConfigService[39m) {
     [90m 18 |[39m     [36mthis[39m[33m.[39mkafka [33m=[39m createKafkaClient(configService)[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m     [36mthis[39m[33m.[39mproducer [33m=[39m [36mthis[39m[33m.[39mkafka[33m.[39mproducer()[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 20 |[39m   }
     [90m 21 |[39m
     [90m 22 |[39m   [36masync[39m onModuleInit()[33m:[39m [33mPromise[39m[33m<[39m[36mvoid[39m[33m>[39m {[0m

      at node_modules/.pnpm/kafkajs@2.2.4/node_modules/kafkajs/src/loggers/console.js:17:22
      at Object.warn (node_modules/.pnpm/kafkajs@2.2.4/node_modules/kafkajs/src/loggers/index.js:16:3)
      at node_modules/.pnpm/kafkajs@2.2.4/node_modules/kafkajs/src/index.js:27:12
      at node_modules/.pnpm/kafkajs@2.2.4/node_modules/kafkajs/src/utils/once.js:7:14
      at Client.producer (node_modules/.pnpm/kafkajs@2.2.4/node_modules/kafkajs/src/index.js:120:7)
      at new producer (src/shared/messaging/kafka/kafka-producer.service.ts:19:32)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:418:19)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 14)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/user.e2e-spec.ts:25:15)

  ‚óè User CRUD (e2e) ‚Ä∫ GET /api/users/:id ‚Ä∫ should get user by ID with authentication

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/user.e2e-spec.ts:25:15)

  ‚óè User CRUD (e2e) ‚Ä∫ GET /api/users/:id ‚Ä∫ should return 404 for non-existent user

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/user.e2e-spec.ts:25:15)

  ‚óè User CRUD (e2e) ‚Ä∫ GET /api/users/:id ‚Ä∫ should require authentication

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/user.e2e-spec.ts:25:15)

  ‚óè User CRUD (e2e) ‚Ä∫ GET /api/users (List) ‚Ä∫ should list users with pagination

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/user.e2e-spec.ts:25:15)

  ‚óè User CRUD (e2e) ‚Ä∫ GET /api/users (List) ‚Ä∫ should list users with pagination

    TypeError: Cannot read properties of undefined (reading 'getHttpServer')

    [0m [90m 81 |[39m     it([32m'should require authentication'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 82 |[39m       [36mawait[39m request(app[33m.[39mgetHttpServer())[33m.[39m[36mget[39m([32m`/api/users/${testUserId}`[39m)[33m.[39mexpect([35m401[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m     })[33m;[39m
     [90m    |[39m                  [31m[1m^[22m[39m
     [90m 84 |[39m   })[33m;[39m
     [90m 85 |[39m
     [90m 86 |[39m   describe([32m'GET /api/users (List)'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (test/e2e/user.e2e-spec.ts:83:52)

  ‚óè User CRUD (e2e) ‚Ä∫ GET /api/users (List) ‚Ä∫ should filter users by role

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/user.e2e-spec.ts:25:15)

  ‚óè User CRUD (e2e) ‚Ä∫ GET /api/users (List) ‚Ä∫ should filter users by role

    TypeError: Cannot read properties of undefined (reading 'getHttpServer')

    [0m [90m 81 |[39m     it([32m'should require authentication'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 82 |[39m       [36mawait[39m request(app[33m.[39mgetHttpServer())[33m.[39m[36mget[39m([32m`/api/users/${testUserId}`[39m)[33m.[39mexpect([35m401[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m     })[33m;[39m
     [90m    |[39m                  [31m[1m^[22m[39m
     [90m 84 |[39m   })[33m;[39m
     [90m 85 |[39m
     [90m 86 |[39m   describe([32m'GET /api/users (List)'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (test/e2e/user.e2e-spec.ts:83:52)

  ‚óè User CRUD (e2e) ‚Ä∫ GET /api/users (List) ‚Ä∫ should support pagination navigation

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/user.e2e-spec.ts:25:15)

  ‚óè User CRUD (e2e) ‚Ä∫ GET /api/users (List) ‚Ä∫ should support pagination navigation

    TypeError: Cannot read properties of undefined (reading 'getHttpServer')

    [0m [90m 81 |[39m     it([32m'should require authentication'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 82 |[39m       [36mawait[39m request(app[33m.[39mgetHttpServer())[33m.[39m[36mget[39m([32m`/api/users/${testUserId}`[39m)[33m.[39mexpect([35m401[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m     })[33m;[39m
     [90m    |[39m                  [31m[1m^[22m[39m
     [90m 84 |[39m   })[33m;[39m
     [90m 85 |[39m
     [90m 86 |[39m   describe([32m'GET /api/users (List)'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (test/e2e/user.e2e-spec.ts:83:52)

  ‚óè User CRUD (e2e) ‚Ä∫ PATCH /api/users/:id ‚Ä∫ should update user profile

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/user.e2e-spec.ts:25:15)

  ‚óè User CRUD (e2e) ‚Ä∫ PATCH /api/users/:id ‚Ä∫ should validate update data

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/user.e2e-spec.ts:25:15)

  ‚óè User CRUD (e2e) ‚Ä∫ PATCH /api/users/:id ‚Ä∫ should not allow updating email to existing email

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/user.e2e-spec.ts:25:15)

  ‚óè User CRUD (e2e) ‚Ä∫ DELETE /api/users/:id ‚Ä∫ should soft delete a user

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/user.e2e-spec.ts:25:15)

  ‚óè User CRUD (e2e) ‚Ä∫ DELETE /api/users/:id ‚Ä∫ should return 404 when deleting non-existent user

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/user.e2e-spec.ts:25:15)

  ‚óè User CRUD (e2e) ‚Ä∫ DELETE /api/users/:id ‚Ä∫ should require authentication

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/user.e2e-spec.ts:25:15)

  ‚óè User CRUD (e2e) ‚Ä∫ Authorization ‚Ä∫ should allow user to update their own profile

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/user.e2e-spec.ts:25:15)

  ‚óè User CRUD (e2e) ‚Ä∫ Authorization ‚Ä∫ should prevent user from deleting other users

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/user.e2e-spec.ts:25:15)

  ‚óè User CRUD (e2e) ‚Ä∫ Edge Cases ‚Ä∫ should handle malformed user ID

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/user.e2e-spec.ts:25:15)

  ‚óè User CRUD (e2e) ‚Ä∫ Edge Cases ‚Ä∫ should handle concurrent updates gracefully

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/user.e2e-spec.ts:25:15)

  ‚óè User CRUD (e2e) ‚Ä∫ Edge Cases ‚Ä∫ should not leak soft-deleted users in list

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/user.e2e-spec.ts:25:15)

FAIL e2e test/e2e/post.e2e-spec.ts (30.026 s)
  ‚óè Console

    console.warn
      {"level":"WARN","timestamp":"2025-11-24T03:21:52.115Z","logger":"kafkajs","message":"KafkaJS v2.0.0 switched default partitioner. To retain the same partitioning behavior as in previous versions, create the producer with the option \"createPartitioner: Partitioners.LegacyPartitioner\". See the migration guide at https://kafka.js.org/docs/migration-guide-v2.0.0#producer-new-default-partitioner for details. Silence this warning by setting the environment variable \"KAFKAJS_NO_PARTITIONER_WARNING=1\""}

    [0m [90m 17 |[39m   constructor([36mprivate[39m readonly configService[33m:[39m [33mAppConfigService[39m) {
     [90m 18 |[39m     [36mthis[39m[33m.[39mkafka [33m=[39m createKafkaClient(configService)[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m     [36mthis[39m[33m.[39mproducer [33m=[39m [36mthis[39m[33m.[39mkafka[33m.[39mproducer()[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 20 |[39m   }
     [90m 21 |[39m
     [90m 22 |[39m   [36masync[39m onModuleInit()[33m:[39m [33mPromise[39m[33m<[39m[36mvoid[39m[33m>[39m {[0m

      at node_modules/.pnpm/kafkajs@2.2.4/node_modules/kafkajs/src/loggers/console.js:17:22
      at Object.warn (node_modules/.pnpm/kafkajs@2.2.4/node_modules/kafkajs/src/loggers/index.js:16:3)
      at node_modules/.pnpm/kafkajs@2.2.4/node_modules/kafkajs/src/index.js:27:12
      at node_modules/.pnpm/kafkajs@2.2.4/node_modules/kafkajs/src/utils/once.js:7:14
      at Client.producer (node_modules/.pnpm/kafkajs@2.2.4/node_modules/kafkajs/src/index.js:120:7)
      at new producer (src/shared/messaging/kafka/kafka-producer.service.ts:19:32)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:418:19)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 14)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/post.e2e-spec.ts:27:15)

  ‚óè Post Lifecycle (e2e) ‚Ä∫ POST /api/posts (Create) ‚Ä∫ should create a post in draft status

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/post.e2e-spec.ts:27:15)

  ‚óè Post Lifecycle (e2e) ‚Ä∫ POST /api/posts (Create) ‚Ä∫ should generate unique slug from title

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/post.e2e-spec.ts:27:15)

  ‚óè Post Lifecycle (e2e) ‚Ä∫ POST /api/posts (Create) ‚Ä∫ should validate post data

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/post.e2e-spec.ts:27:15)

  ‚óè Post Lifecycle (e2e) ‚Ä∫ POST /api/posts (Create) ‚Ä∫ should require authentication

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/post.e2e-spec.ts:27:15)

  ‚óè Post Lifecycle (e2e) ‚Ä∫ POST /api/posts/:id/publish ‚Ä∫ should publish a draft post

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/post.e2e-spec.ts:27:15)

  ‚óè Post Lifecycle (e2e) ‚Ä∫ POST /api/posts/:id/publish ‚Ä∫ should create domain event when publishing

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/post.e2e-spec.ts:27:15)

  ‚óè Post Lifecycle (e2e) ‚Ä∫ POST /api/posts/:id/publish ‚Ä∫ should not publish already published post

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/post.e2e-spec.ts:27:15)

  ‚óè Post Lifecycle (e2e) ‚Ä∫ GET /api/posts/:id ‚Ä∫ should get post by ID

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/post.e2e-spec.ts:27:15)

  ‚óè Post Lifecycle (e2e) ‚Ä∫ GET /api/posts/:id ‚Ä∫ should get post by slug

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/post.e2e-spec.ts:27:15)

  ‚óè Post Lifecycle (e2e) ‚Ä∫ GET /api/posts/:id ‚Ä∫ should increment view count on each access

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/post.e2e-spec.ts:27:15)

  ‚óè Post Lifecycle (e2e) ‚Ä∫ GET /api/posts (List) ‚Ä∫ should list published posts

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/post.e2e-spec.ts:27:15)

  ‚óè Post Lifecycle (e2e) ‚Ä∫ GET /api/posts (List) ‚Ä∫ should not list draft posts for non-authors

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/post.e2e-spec.ts:27:15)

  ‚óè Post Lifecycle (e2e) ‚Ä∫ GET /api/posts (List) ‚Ä∫ should support pagination

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/post.e2e-spec.ts:27:15)

  ‚óè Post Lifecycle (e2e) ‚Ä∫ PATCH /api/posts/:id ‚Ä∫ should update post content

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/post.e2e-spec.ts:27:15)

  ‚óè Post Lifecycle (e2e) ‚Ä∫ PATCH /api/posts/:id ‚Ä∫ should not allow non-author to update post

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/post.e2e-spec.ts:27:15)

  ‚óè Post Lifecycle (e2e) ‚Ä∫ POST /api/tags ‚Ä∫ should create a tag

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/post.e2e-spec.ts:27:15)

  ‚óè Post Lifecycle (e2e) ‚Ä∫ POST /api/tags ‚Ä∫ should enforce unique tag names

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/post.e2e-spec.ts:27:15)

  ‚óè Post Lifecycle (e2e) ‚Ä∫ POST /api/posts/:id/tags/:tagId ‚Ä∫ should add tag to post

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/post.e2e-spec.ts:27:15)

  ‚óè Post Lifecycle (e2e) ‚Ä∫ POST /api/posts/:id/tags/:tagId ‚Ä∫ should retrieve posts by tag

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/post.e2e-spec.ts:27:15)

  ‚óè Post Lifecycle (e2e) ‚Ä∫ POST /api/posts/:id/comments ‚Ä∫ should add comment to post

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/post.e2e-spec.ts:27:15)

  ‚óè Post Lifecycle (e2e) ‚Ä∫ POST /api/posts/:id/comments ‚Ä∫ should list comments for post

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/post.e2e-spec.ts:27:15)

  ‚óè Post Lifecycle (e2e) ‚Ä∫ POST /api/posts/:id/comments ‚Ä∫ should not allow comments on archived posts

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/post.e2e-spec.ts:27:15)

  ‚óè Post Lifecycle (e2e) ‚Ä∫ POST /api/posts/:id/archive ‚Ä∫ should archive a published post

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/post.e2e-spec.ts:27:15)

  ‚óè Post Lifecycle (e2e) ‚Ä∫ DELETE /api/posts/:id ‚Ä∫ should soft delete a post

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/post.e2e-spec.ts:27:15)

  ‚óè Post Lifecycle (e2e) ‚Ä∫ DELETE /api/posts/:id ‚Ä∫ should only allow author to delete post

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/post.e2e-spec.ts:27:15)

  ‚óè Post Lifecycle (e2e) ‚Ä∫ Caching Behavior ‚Ä∫ should cache post retrieval

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/post.e2e-spec.ts:27:15)

  ‚óè Post Lifecycle (e2e) ‚Ä∫ Caching Behavior ‚Ä∫ should invalidate cache on update

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 17 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m
     [90m 18 |[39m     })[33m.[39mcompile()[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 20 |[39m     [36mconst[39m app [33m=[39m moduleFixture[33m.[39mcreateNestApplication()[33m;[39m
     [90m 21 |[39m
     [90m 22 |[39m     [90m// Apply same middleware as main.ts[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Function.createTestApp (test/e2e/setup.ts:19:31)
      at Object.<anonymous> (test/e2e/post.e2e-spec.ts:27:15)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "AggregateError: 
        at internalConnectMultiple (node:net:1134:18)
        at afterConnectMultiple (node:net:1715:7)
        at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
      code: 'ECONNREFUSED',
      [errors]: [
        Error: connect ECONNREFUSED ::1:6379
            at createConnectionError (node:net:1678:14)
            at afterConnectMultiple (node:net:1708:16)
            at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
          errno: -4078,
          code: 'ECONNREFUSED',
          syscall: 'connect',
          address: '::1',
          port: 6379
        },
        Error: connect ECONNREFUSED 127.0.0.1:6379
            at createConnectionError (node:net:1678:14)
            at afterConnectMultiple (node:net:1708:16)
            at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
          errno: -4078,
          code: 'ECONNREFUSED',
          syscall: 'connect',
          address: '127.0.0.1',
          port: 6379
        }
      ]
    }".

      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
        code: 'ECONNREFUSED',
        [errors]: [
          Error: connect ECONNREFUSED ::1:6379
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
            errno: -4078,
            code: 'ECONNREFUSED',
            syscall: 'connect',
            address: '::1',
            port: 6379
          },
          Error: connect ECONNREFUSED 127.0.0.1:6379
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
            errno: -4078,
            code: 'ECONNREFUSED',
            syscall: 'connect',
            address: '127.0.0.1',
            port: 6379
          }
        ]
      }".
      at console.error (node_modules/.pnpm/@jest+console@30.2.0/node_modules/@jest/console/build/index.js:124:10)
      at Queue.emit (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue-base.ts:129:17)
      at Queue.emit (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:192:18)
      at RedisConnection.<anonymous> (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue-base.ts:75:56)
      at EventEmitter.RedisConnection.handleClientError (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/redis-connection.ts:121:12)
      at EventEmitter.silentEmit (node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/Redis.js:484:30)
      at Socket.<anonymous> (node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/redis/event_handler.js:221:14)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "AggregateError: 
        at internalConnectMultiple (node:net:1134:18)
        at afterConnectMultiple (node:net:1715:7)
        at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
      code: 'ECONNREFUSED',
      [errors]: [
        Error: connect ECONNREFUSED ::1:6379
            at createConnectionError (node:net:1678:14)
            at afterConnectMultiple (node:net:1708:16)
            at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
          errno: -4078,
          code: 'ECONNREFUSED',
          syscall: 'connect',
          address: '::1',
          port: 6379
        },
        Error: connect ECONNREFUSED 127.0.0.1:6379
            at createConnectionError (node:net:1678:14)
            at afterConnectMultiple (node:net:1708:16)
            at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
          errno: -4078,
          code: 'ECONNREFUSED',
          syscall: 'connect',
          address: '127.0.0.1',
          port: 6379
        }
      ]
    }".

      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
        code: 'ECONNREFUSED',
        [errors]: [
          Error: connect ECONNREFUSED ::1:6379
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
            errno: -4078,
            code: 'ECONNREFUSED',
            syscall: 'connect',
            address: '::1',
            port: 6379
          },
          Error: connect ECONNREFUSED 127.0.0.1:6379
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
            errno: -4078,
            code: 'ECONNREFUSED',
            syscall: 'connect',
            address: '127.0.0.1',
            port: 6379
          }
        ]
      }".
      at console.error (node_modules/.pnpm/@jest+console@30.2.0/node_modules/@jest/console/build/index.js:124:10)
      at Queue.emit (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue-base.ts:129:17)
      at Queue.emit (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:192:18)
      at RedisConnection.<anonymous> (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue-base.ts:75:56)
      at EventEmitter.RedisConnection.handleClientError (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/redis-connection.ts:121:12)
      at EventEmitter.silentEmit (node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/Redis.js:484:30)
      at Socket.<anonymous> (node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/redis/event_handler.js:221:14)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/post.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 0)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/post.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 1)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/post.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 2)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/post.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 3)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/post.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 4)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/post.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 5)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/post.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 6)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/post.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 7)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/post.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 8)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/post.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 9)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/post.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 10)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/post.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 11)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/post.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 0)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/post.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 1)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/post.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 2)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/post.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 3)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/post.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 4)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/post.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 5)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/post.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 6)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/post.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 7)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/post.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 8)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "AggregateError: 
        at internalConnectMultiple (node:net:1134:18)
        at afterConnectMultiple (node:net:1715:7)
        at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
      code: 'ECONNREFUSED',
      [errors]: [
        Error: connect ECONNREFUSED ::1:6379
            at createConnectionError (node:net:1678:14)
            at afterConnectMultiple (node:net:1708:16)
            at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
          errno: -4078,
          code: 'ECONNREFUSED',
          syscall: 'connect',
          address: '::1',
          port: 6379
        },
        Error: connect ECONNREFUSED 127.0.0.1:6379
            at createConnectionError (node:net:1678:14)
            at afterConnectMultiple (node:net:1708:16)
            at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
          errno: -4078,
          code: 'ECONNREFUSED',
          syscall: 'connect',
          address: '127.0.0.1',
          port: 6379
        }
      ]
    }".

      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
        code: 'ECONNREFUSED',
        [errors]: [
          Error: connect ECONNREFUSED ::1:6379
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
            errno: -4078,
            code: 'ECONNREFUSED',
            syscall: 'connect',
            address: '::1',
            port: 6379
          },
          Error: connect ECONNREFUSED 127.0.0.1:6379
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
            errno: -4078,
            code: 'ECONNREFUSED',
            syscall: 'connect',
            address: '127.0.0.1',
            port: 6379
          }
        ]
      }".
      at console.error (node_modules/.pnpm/@jest+console@30.2.0/node_modules/@jest/console/build/index.js:124:10)
      at Queue.emit (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue-base.ts:129:17)
      at Queue.emit (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:192:18)
      at RedisConnection.<anonymous> (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue-base.ts:75:56)
      at EventEmitter.RedisConnection.handleClientError (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/redis-connection.ts:121:12)
      at EventEmitter.silentEmit (node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/Redis.js:484:30)
      at Socket.<anonymous> (node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/redis/event_handler.js:221:14)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "AggregateError: 
        at internalConnectMultiple (node:net:1134:18)
        at afterConnectMultiple (node:net:1715:7)
        at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
      code: 'ECONNREFUSED',
      [errors]: [
        Error: connect ECONNREFUSED ::1:6379
            at createConnectionError (node:net:1678:14)
            at afterConnectMultiple (node:net:1708:16)
            at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
          errno: -4078,
          code: 'ECONNREFUSED',
          syscall: 'connect',
          address: '::1',
          port: 6379
        },
        Error: connect ECONNREFUSED 127.0.0.1:6379
            at createConnectionError (node:net:1678:14)
            at afterConnectMultiple (node:net:1708:16)
            at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
          errno: -4078,
          code: 'ECONNREFUSED',
          syscall: 'connect',
          address: '127.0.0.1',
          port: 6379
        }
      ]
    }".

      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
        code: 'ECONNREFUSED',
        [errors]: [
          Error: connect ECONNREFUSED ::1:6379
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
            errno: -4078,
            code: 'ECONNREFUSED',
            syscall: 'connect',
            address: '::1',
            port: 6379
          },
          Error: connect ECONNREFUSED 127.0.0.1:6379
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
            errno: -4078,
            code: 'ECONNREFUSED',
            syscall: 'connect',
            address: '127.0.0.1',
            port: 6379
          }
        ]
      }".
      at console.error (node_modules/.pnpm/@jest+console@30.2.0/node_modules/@jest/console/build/index.js:124:10)
      at Queue.emit (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue-base.ts:129:17)
      at Queue.emit (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:192:18)
      at RedisConnection.<anonymous> (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue-base.ts:75:56)
      at EventEmitter.RedisConnection.handleClientError (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/redis-connection.ts:121:12)
      at EventEmitter.silentEmit (node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/Redis.js:484:30)
      at Socket.<anonymous> (node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/redis/event_handler.js:221:14)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/user.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 0)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/user.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 1)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/user.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 2)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/user.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 3)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/user.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 4)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/user.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 5)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/user.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 6)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/user.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 7)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/user.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 8)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/user.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 9)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/user.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 10)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/user.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 11)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/user.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 0)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/user.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 1)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/user.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 2)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/user.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 3)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/user.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 4)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/user.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 5)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/user.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 6)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/user.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 7)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/user.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 8)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/auth.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 0)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/auth.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 1)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/auth.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 2)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/auth.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 3)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/auth.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 4)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/auth.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 5)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/auth.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 6)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/auth.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 7)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/auth.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 8)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/auth.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 9)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/auth.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 10)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/auth.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 11)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/auth.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 0)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/auth.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 1)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/auth.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 2)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/auth.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 3)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/auth.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 4)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/auth.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 5)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/auth.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 6)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/auth.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 7)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/auth.e2e-spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 8)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)
FAIL e2e test/e2e/multi-instance-websocket.spec.ts (30.301 s)
  ‚óè Console

    console.warn
      {"level":"WARN","timestamp":"2025-11-24T03:21:52.611Z","logger":"kafkajs","message":"KafkaJS v2.0.0 switched default partitioner. To retain the same partitioning behavior as in previous versions, create the producer with the option \"createPartitioner: Partitioners.LegacyPartitioner\". See the migration guide at https://kafka.js.org/docs/migration-guide-v2.0.0#producer-new-default-partitioner for details. Silence this warning by setting the environment variable \"KAFKAJS_NO_PARTITIONER_WARNING=1\""}

    [0m [90m 17 |[39m   constructor([36mprivate[39m readonly configService[33m:[39m [33mAppConfigService[39m) {
     [90m 18 |[39m     [36mthis[39m[33m.[39mkafka [33m=[39m createKafkaClient(configService)[33m;[39m
    [31m[1m>[22m[39m[90m 19 |[39m     [36mthis[39m[33m.[39mproducer [33m=[39m [36mthis[39m[33m.[39mkafka[33m.[39mproducer()[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 20 |[39m   }
     [90m 21 |[39m
     [90m 22 |[39m   [36masync[39m onModuleInit()[33m:[39m [33mPromise[39m[33m<[39m[36mvoid[39m[33m>[39m {[0m

      at node_modules/.pnpm/kafkajs@2.2.4/node_modules/kafkajs/src/loggers/console.js:17:22
      at Object.warn (node_modules/.pnpm/kafkajs@2.2.4/node_modules/kafkajs/src/loggers/index.js:16:3)
      at node_modules/.pnpm/kafkajs@2.2.4/node_modules/kafkajs/src/index.js:27:12
      at node_modules/.pnpm/kafkajs@2.2.4/node_modules/kafkajs/src/utils/once.js:7:14
      at Client.producer (node_modules/.pnpm/kafkajs@2.2.4/node_modules/kafkajs/src/index.js:120:7)
      at new producer (src/shared/messaging/kafka/kafka-producer.service.ts:19:32)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:418:19)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 14)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (test/e2e/multi-instance-websocket.spec.ts:33:32)

  ‚óè Multi-Instance WebSocket (e2e) ‚Ä∫ should broadcast notifications across instances

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 31 |[39m   [36mconst[39m [33mTEST_PORT_2[39m [33m=[39m [35m3002[39m[33m;[39m
     [90m 32 |[39m
    [31m[1m>[22m[39m[90m 33 |[39m   beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 34 |[39m     [90m// Create first app instance[39m
     [90m 35 |[39m     [36mconst[39m moduleFixture1[33m:[39m [33mTestingModule[39m [33m=[39m [36mawait[39m [33mTest[39m[33m.[39mcreateTestingModule({
     [90m 36 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (test/e2e/multi-instance-websocket.spec.ts:33:32)

  ‚óè Multi-Instance WebSocket (e2e) ‚Ä∫ should broadcast conversation messages across instances

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 31 |[39m   [36mconst[39m [33mTEST_PORT_2[39m [33m=[39m [35m3002[39m[33m;[39m
     [90m 32 |[39m
    [31m[1m>[22m[39m[90m 33 |[39m   beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 34 |[39m     [90m// Create first app instance[39m
     [90m 35 |[39m     [36mconst[39m moduleFixture1[33m:[39m [33mTestingModule[39m [33m=[39m [36mawait[39m [33mTest[39m[33m.[39mcreateTestingModule({
     [90m 36 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (test/e2e/multi-instance-websocket.spec.ts:33:32)

  ‚óè Multi-Instance WebSocket (e2e) ‚Ä∫ should handle client reconnection correctly

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 31 |[39m   [36mconst[39m [33mTEST_PORT_2[39m [33m=[39m [35m3002[39m[33m;[39m
     [90m 32 |[39m
    [31m[1m>[22m[39m[90m 33 |[39m   beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 34 |[39m     [90m// Create first app instance[39m
     [90m 35 |[39m     [36mconst[39m moduleFixture1[33m:[39m [33mTestingModule[39m [33m=[39m [36mawait[39m [33mTest[39m[33m.[39mcreateTestingModule({
     [90m 36 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (test/e2e/multi-instance-websocket.spec.ts:33:32)

  ‚óè Multi-Instance WebSocket (e2e) ‚Ä∫ should maintain separate rooms across instances

    TypeError: (0 , uuid_1.v4) is not a function

    [0m [90m 31 |[39m   [36mconst[39m [33mTEST_PORT_2[39m [33m=[39m [35m3002[39m[33m;[39m
     [90m 32 |[39m
    [31m[1m>[22m[39m[90m 33 |[39m   beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 34 |[39m     [90m// Create first app instance[39m
     [90m 35 |[39m     [36mconst[39m moduleFixture1[33m:[39m [33mTestingModule[39m [33m=[39m [36mawait[39m [33mTest[39m[33m.[39mcreateTestingModule({
     [90m 36 |[39m       imports[33m:[39m [[33mAppModule[39m][33m,[39m[0m

      at new Queue (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:150:13)
      at createQueueAndWorkers (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:13:19)
      at InstanceWrapper.useFactory [as metatype] (node_modules/.pnpm/@nestjs+bullmq@11.0.4_@nest_7046d7d2c4db967a72dac447d9d314eb/node_modules/@nestjs/bullmq/dist/bull.providers.js:120:20)
      at TestingInjector.instantiateClass (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:423:55)
      at callback (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:70:45)
      at TestingInjector.resolveConstructorParams (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:170:24)
      at TestingInjector.loadInstance (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 17)
      at TestingInstanceLoader.createInstances (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+core@11.1.9_@nestjs_abf91121097d4c21681c6000ec80ae7e/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/.pnpm/@nestjs+testing@11.1.9_@nes_0eccf0a3d8d3fe3b1db417d8b32d33b8/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (test/e2e/multi-instance-websocket.spec.ts:33:32)


  ‚óè Test suite failed to run

    TypeError: Cannot read properties of undefined (reading 'close')

    [0m [90m 56 |[39m     [36mawait[39m app2[33m.[39mlisten([33mTEST_PORT_2[39m)[33m;[39m
     [90m 57 |[39m   })[33m;[39m
    [31m[1m>[22m[39m[90m 58 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 59 |[39m   afterAll([36masync[39m () [33m=>[39m {
     [90m 60 |[39m     [36mif[39m (client1) client1[33m.[39mdisconnect()[33m;[39m
     [90m 61 |[39m     [36mif[39m (client2) client2[33m.[39mdisconnect()[33m;[39m[0m

      at Object.<anonymous> (test/e2e/multi-instance-websocket.spec.ts:58:20)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "AggregateError: 
        at internalConnectMultiple (node:net:1134:18)
        at afterConnectMultiple (node:net:1715:7)
        at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
      code: 'ECONNREFUSED',
      [errors]: [
        Error: connect ECONNREFUSED ::1:6379
            at createConnectionError (node:net:1678:14)
            at afterConnectMultiple (node:net:1708:16)
            at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
          errno: -4078,
          code: 'ECONNREFUSED',
          syscall: 'connect',
          address: '::1',
          port: 6379
        },
        Error: connect ECONNREFUSED 127.0.0.1:6379
            at createConnectionError (node:net:1678:14)
            at afterConnectMultiple (node:net:1708:16)
            at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
          errno: -4078,
          code: 'ECONNREFUSED',
          syscall: 'connect',
          address: '127.0.0.1',
          port: 6379
        }
      ]
    }".

      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
        code: 'ECONNREFUSED',
        [errors]: [
          Error: connect ECONNREFUSED ::1:6379
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
            errno: -4078,
            code: 'ECONNREFUSED',
            syscall: 'connect',
            address: '::1',
            port: 6379
          },
          Error: connect ECONNREFUSED 127.0.0.1:6379
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
            errno: -4078,
            code: 'ECONNREFUSED',
            syscall: 'connect',
            address: '127.0.0.1',
            port: 6379
          }
        ]
      }".
      at console.error (node_modules/.pnpm/@jest+console@30.2.0/node_modules/@jest/console/build/index.js:124:10)
      at Queue.emit (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue-base.ts:129:17)
      at Queue.emit (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:192:18)
      at RedisConnection.<anonymous> (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue-base.ts:75:56)
      at EventEmitter.RedisConnection.handleClientError (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/redis-connection.ts:121:12)
      at EventEmitter.silentEmit (node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/Redis.js:484:30)
      at Socket.<anonymous> (node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/redis/event_handler.js:221:14)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "AggregateError: 
        at internalConnectMultiple (node:net:1134:18)
        at afterConnectMultiple (node:net:1715:7)
        at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
      code: 'ECONNREFUSED',
      [errors]: [
        Error: connect ECONNREFUSED ::1:6379
            at createConnectionError (node:net:1678:14)
            at afterConnectMultiple (node:net:1708:16)
            at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
          errno: -4078,
          code: 'ECONNREFUSED',
          syscall: 'connect',
          address: '::1',
          port: 6379
        },
        Error: connect ECONNREFUSED 127.0.0.1:6379
            at createConnectionError (node:net:1678:14)
            at afterConnectMultiple (node:net:1708:16)
            at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
          errno: -4078,
          code: 'ECONNREFUSED',
          syscall: 'connect',
          address: '127.0.0.1',
          port: 6379
        }
      ]
    }".

      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
        code: 'ECONNREFUSED',
        [errors]: [
          Error: connect ECONNREFUSED ::1:6379
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
            errno: -4078,
            code: 'ECONNREFUSED',
            syscall: 'connect',
            address: '::1',
            port: 6379
          },
          Error: connect ECONNREFUSED 127.0.0.1:6379
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
            errno: -4078,
            code: 'ECONNREFUSED',
            syscall: 'connect',
            address: '127.0.0.1',
            port: 6379
          }
        ]
      }".
      at console.error (node_modules/.pnpm/@jest+console@30.2.0/node_modules/@jest/console/build/index.js:124:10)
      at Queue.emit (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue-base.ts:129:17)
      at Queue.emit (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:192:18)
      at RedisConnection.<anonymous> (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue-base.ts:75:56)
      at EventEmitter.RedisConnection.handleClientError (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/redis-connection.ts:121:12)
      at EventEmitter.silentEmit (node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/Redis.js:484:30)
      at Socket.<anonymous> (node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/redis/event_handler.js:221:14)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/multi-instance-websocket.spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 0)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/multi-instance-websocket.spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 1)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/multi-instance-websocket.spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 2)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/multi-instance-websocket.spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 3)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/multi-instance-websocket.spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 4)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/multi-instance-websocket.spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 5)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/multi-instance-websocket.spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 6)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/multi-instance-websocket.spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 7)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/multi-instance-websocket.spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 8)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/multi-instance-websocket.spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 9)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/multi-instance-websocket.spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 10)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/multi-instance-websocket.spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 11)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildEntityMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:92:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:733:13)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/multi-instance-websocket.spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 0)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/multi-instance-websocket.spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 1)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/multi-instance-websocket.spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 2)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/multi-instance-websocket.spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 3)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/multi-instance-websocket.spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 4)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/multi-instance-websocket.spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 5)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/multi-instance-websocket.spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 6)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/multi-instance-websocket.spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 7)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From test/e2e/multi-instance-websocket.spec.ts.

      at tryToRequire (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:22:17)
      at importOrRequireFile (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/ImportUtils.ts:36:25)
      at node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:57:45
          at async Promise.all (index 8)
      at importClassesFromDirectories (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/util/DirectoryExportedClassesLoader.ts:63:18)
      at ConnectionMetadataBuilder.buildMigrations (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/connection/ConnectionMetadataBuilder.ts:38:17)
      at DataSource.buildMetadatas (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:747:28)
      at DataSource.initialize (node_modules/.pnpm/typeorm@0.3.27_ioredis@5.8._233ee920b5fe5d6a025e224f06044a72/src/data-source/DataSource.ts:264:13)

  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "AggregateError: 
        at internalConnectMultiple (node:net:1134:18)
        at afterConnectMultiple (node:net:1715:7)
        at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
      code: 'ECONNREFUSED',
      [errors]: [
        Error: connect ECONNREFUSED ::1:6379
            at createConnectionError (node:net:1678:14)
            at afterConnectMultiple (node:net:1708:16)
            at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
          errno: -4078,
          code: 'ECONNREFUSED',
          syscall: 'connect',
          address: '::1',
          port: 6379
        },
        Error: connect ECONNREFUSED 127.0.0.1:6379
            at createConnectionError (node:net:1678:14)
            at afterConnectMultiple (node:net:1708:16)
            at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
          errno: -4078,
          code: 'ECONNREFUSED',
          syscall: 'connect',
          address: '127.0.0.1',
          port: 6379
        }
      ]
    }".

      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
        code: 'ECONNREFUSED',
        [errors]: [
          Error: connect ECONNREFUSED ::1:6379
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
            errno: -4078,
            code: 'ECONNREFUSED',
            syscall: 'connect',
            address: '::1',
            port: 6379
          },
          Error: connect ECONNREFUSED 127.0.0.1:6379
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
            errno: -4078,
            code: 'ECONNREFUSED',
            syscall: 'connect',
            address: '127.0.0.1',
            port: 6379
          }
        ]
      }".
      at console.error (node_modules/.pnpm/@jest+console@30.2.0/node_modules/@jest/console/build/index.js:124:10)
      at Queue.emit (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue-base.ts:129:17)
      at Queue.emit (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:192:18)
      at RedisConnection.<anonymous> (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue-base.ts:75:56)
      at EventEmitter.RedisConnection.handleClientError (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/redis-connection.ts:121:12)
      at EventEmitter.silentEmit (node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/Redis.js:484:30)
      at Socket.<anonymous> (node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/redis/event_handler.js:221:14)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "AggregateError: 
        at internalConnectMultiple (node:net:1134:18)
        at afterConnectMultiple (node:net:1715:7)
        at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
      code: 'ECONNREFUSED',
      [errors]: [
        Error: connect ECONNREFUSED ::1:6379
            at createConnectionError (node:net:1678:14)
            at afterConnectMultiple (node:net:1708:16)
            at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
          errno: -4078,
          code: 'ECONNREFUSED',
          syscall: 'connect',
          address: '::1',
          port: 6379
        },
        Error: connect ECONNREFUSED 127.0.0.1:6379
            at createConnectionError (node:net:1678:14)
            at afterConnectMultiple (node:net:1708:16)
            at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
          errno: -4078,
          code: 'ECONNREFUSED',
          syscall: 'connect',
          address: '127.0.0.1',
          port: 6379
        }
      ]
    }".

      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
        code: 'ECONNREFUSED',
        [errors]: [
          Error: connect ECONNREFUSED ::1:6379
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
            errno: -4078,
            code: 'ECONNREFUSED',
            syscall: 'connect',
            address: '::1',
            port: 6379
          },
          Error: connect ECONNREFUSED 127.0.0.1:6379
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
            errno: -4078,
            code: 'ECONNREFUSED',
            syscall: 'connect',
            address: '127.0.0.1',
            port: 6379
          }
        ]
      }".
      at console.error (node_modules/.pnpm/@jest+console@30.2.0/node_modules/@jest/console/build/index.js:124:10)
      at Queue.emit (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue-base.ts:129:17)
      at Queue.emit (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:192:18)
      at RedisConnection.<anonymous> (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue-base.ts:75:56)
      at EventEmitter.RedisConnection.handleClientError (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/redis-connection.ts:121:12)
      at EventEmitter.silentEmit (node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/Redis.js:484:30)
      at Socket.<anonymous> (node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/redis/event_handler.js:221:14)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "AggregateError: 
        at internalConnectMultiple (node:net:1134:18)
        at afterConnectMultiple (node:net:1715:7)
        at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
      code: 'ECONNREFUSED',
      [errors]: [
        Error: connect ECONNREFUSED ::1:6379
            at createConnectionError (node:net:1678:14)
            at afterConnectMultiple (node:net:1708:16)
            at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
          errno: -4078,
          code: 'ECONNREFUSED',
          syscall: 'connect',
          address: '::1',
          port: 6379
        },
        Error: connect ECONNREFUSED 127.0.0.1:6379
            at createConnectionError (node:net:1678:14)
            at afterConnectMultiple (node:net:1708:16)
            at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
          errno: -4078,
          code: 'ECONNREFUSED',
          syscall: 'connect',
          address: '127.0.0.1',
          port: 6379
        }
      ]
    }".

      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
        code: 'ECONNREFUSED',
        [errors]: [
          Error: connect ECONNREFUSED ::1:6379
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
            errno: -4078,
            code: 'ECONNREFUSED',
            syscall: 'connect',
            address: '::1',
            port: 6379
          },
          Error: connect ECONNREFUSED 127.0.0.1:6379
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
            errno: -4078,
            code: 'ECONNREFUSED',
            syscall: 'connect',
            address: '127.0.0.1',
            port: 6379
          }
        ]
      }".
      at console.error (node_modules/.pnpm/@jest+console@30.2.0/node_modules/@jest/console/build/index.js:124:10)
      at Queue.emit (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue-base.ts:129:17)
      at Queue.emit (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:192:18)
      at RedisConnection.<anonymous> (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue-base.ts:75:56)
      at EventEmitter.RedisConnection.handleClientError (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/redis-connection.ts:121:12)
      at EventEmitter.silentEmit (node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/Redis.js:484:30)
      at Socket.<anonymous> (node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/redis/event_handler.js:221:14)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "AggregateError: 
        at internalConnectMultiple (node:net:1134:18)
        at afterConnectMultiple (node:net:1715:7)
        at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
      code: 'ECONNREFUSED',
      [errors]: [
        Error: connect ECONNREFUSED ::1:6379
            at createConnectionError (node:net:1678:14)
            at afterConnectMultiple (node:net:1708:16)
            at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
          errno: -4078,
          code: 'ECONNREFUSED',
          syscall: 'connect',
          address: '::1',
          port: 6379
        },
        Error: connect ECONNREFUSED 127.0.0.1:6379
            at createConnectionError (node:net:1678:14)
            at afterConnectMultiple (node:net:1708:16)
            at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
          errno: -4078,
          code: 'ECONNREFUSED',
          syscall: 'connect',
          address: '127.0.0.1',
          port: 6379
        }
      ]
    }".

      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
        code: 'ECONNREFUSED',
        [errors]: [
          Error: connect ECONNREFUSED ::1:6379
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
            errno: -4078,
            code: 'ECONNREFUSED',
            syscall: 'connect',
            address: '::1',
            port: 6379
          },
          Error: connect ECONNREFUSED 127.0.0.1:6379
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
            errno: -4078,
            code: 'ECONNREFUSED',
            syscall: 'connect',
            address: '127.0.0.1',
            port: 6379
          }
        ]
      }".
      at console.error (node_modules/.pnpm/@jest+console@30.2.0/node_modules/@jest/console/build/index.js:124:10)
      at Queue.emit (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue-base.ts:129:17)
      at Queue.emit (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:192:18)
      at RedisConnection.<anonymous> (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue-base.ts:75:56)
      at EventEmitter.RedisConnection.handleClientError (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/redis-connection.ts:121:12)
      at EventEmitter.silentEmit (node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/Redis.js:484:30)
      at Socket.<anonymous> (node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/redis/event_handler.js:221:14)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "AggregateError: 
        at internalConnectMultiple (node:net:1134:18)
        at afterConnectMultiple (node:net:1715:7)
        at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
      code: 'ECONNREFUSED',
      [errors]: [
        Error: connect ECONNREFUSED ::1:6379
            at createConnectionError (node:net:1678:14)
            at afterConnectMultiple (node:net:1708:16)
            at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
          errno: -4078,
          code: 'ECONNREFUSED',
          syscall: 'connect',
          address: '::1',
          port: 6379
        },
        Error: connect ECONNREFUSED 127.0.0.1:6379
            at createConnectionError (node:net:1678:14)
            at afterConnectMultiple (node:net:1708:16)
            at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
          errno: -4078,
          code: 'ECONNREFUSED',
          syscall: 'connect',
          address: '127.0.0.1',
          port: 6379
        }
      ]
    }".

      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
        code: 'ECONNREFUSED',
        [errors]: [
          Error: connect ECONNREFUSED ::1:6379
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
            errno: -4078,
            code: 'ECONNREFUSED',
            syscall: 'connect',
            address: '::1',
            port: 6379
          },
          Error: connect ECONNREFUSED 127.0.0.1:6379
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
            errno: -4078,
            code: 'ECONNREFUSED',
            syscall: 'connect',
            address: '127.0.0.1',
            port: 6379
          }
        ]
      }".
      at console.error (node_modules/.pnpm/@jest+console@30.2.0/node_modules/@jest/console/build/index.js:124:10)
      at Queue.emit (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue-base.ts:129:17)
      at Queue.emit (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:192:18)
      at RedisConnection.<anonymous> (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue-base.ts:75:56)
      at EventEmitter.RedisConnection.handleClientError (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/redis-connection.ts:121:12)
      at EventEmitter.silentEmit (node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/Redis.js:484:30)
      at Socket.<anonymous> (node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/redis/event_handler.js:221:14)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "AggregateError: 
        at internalConnectMultiple (node:net:1134:18)
        at afterConnectMultiple (node:net:1715:7)
        at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
      code: 'ECONNREFUSED',
      [errors]: [
        Error: connect ECONNREFUSED ::1:6379
            at createConnectionError (node:net:1678:14)
            at afterConnectMultiple (node:net:1708:16)
            at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
          errno: -4078,
          code: 'ECONNREFUSED',
          syscall: 'connect',
          address: '::1',
          port: 6379
        },
        Error: connect ECONNREFUSED 127.0.0.1:6379
            at createConnectionError (node:net:1678:14)
            at afterConnectMultiple (node:net:1708:16)
            at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
          errno: -4078,
          code: 'ECONNREFUSED',
          syscall: 'connect',
          address: '127.0.0.1',
          port: 6379
        }
      ]
    }".

      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
        code: 'ECONNREFUSED',
        [errors]: [
          Error: connect ECONNREFUSED ::1:6379
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
            errno: -4078,
            code: 'ECONNREFUSED',
            syscall: 'connect',
            address: '::1',
            port: 6379
          },
          Error: connect ECONNREFUSED 127.0.0.1:6379
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17) {
            errno: -4078,
            code: 'ECONNREFUSED',
            syscall: 'connect',
            address: '127.0.0.1',
            port: 6379
          }
        ]
      }".
      at console.error (node_modules/.pnpm/@jest+console@30.2.0/node_modules/@jest/console/build/index.js:124:10)
      at Queue.emit (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue-base.ts:129:17)
      at Queue.emit (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue.ts:192:18)
      at RedisConnection.<anonymous> (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/queue-base.ts:75:56)
      at EventEmitter.RedisConnection.handleClientError (node_modules/.pnpm/bullmq@5.63.2/node_modules/bullmq/src/classes/redis-connection.ts:121:12)
      at EventEmitter.silentEmit (node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/Redis.js:484:30)
      at Socket.<anonymous> (node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/redis/event_handler.js:221:14)

A worker process has failed to exit gracefully and has been force exited. This is likely caused by tests leaking due to improper teardown. Try running with --detectOpenHandles to find leaks. Active timers can also cause this, ensure that .unref() was called on them.
-----------------------------------------------------|---------|----------|---------|---------|----------------------------------------------------------------
File                                                 | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                                              
-----------------------------------------------------|---------|----------|---------|---------|----------------------------------------------------------------
All files                                            |    40.3 |    45.06 |   14.28 |   37.26 |                                                                
 src                                                 |   86.66 |       75 |   33.33 |   81.81 |                                                                
  app.controller.ts                                  |      90 |       75 |      50 |    87.5 | 16                                                             
  app.service.ts                                     |      80 |      100 |       0 |   66.66 | 6                                                              
 src/common/decorators                               |   39.13 |      100 |      20 |   38.88 |                                                                
  current-user.decorator.ts                          |      50 |      100 |       0 |      50 | 5-6                                                            
  public.decorator.ts                                |     100 |      100 |     100 |     100 |                                                                
  roles.decorator.ts                                 |       0 |      100 |       0 |       0 | 1-5                                                            
  skip-throttle.decorator.ts                         |       0 |      100 |       0 |       0 | 1-4                                                            
  ws-current-user.decorator.ts                       |      50 |      100 |       0 |      50 | 11-12                                                          
 src/common/exceptions                               |       0 |      100 |       0 |       0 |                                                                
  custom-exceptions.ts                               |       0 |      100 |       0 |       0 | 1-89                                                           
 src/common/filters                                  |   92.85 |    57.89 |     100 |    92.3 |                                                                
  http-exception.filter.ts                           |   92.85 |    57.89 |     100 |    92.3 | 33-34                                                          
 src/common/guards                                   |   27.02 |    33.33 |      25 |   22.85 |                                                                
  ws-jwt-auth.guard.ts                               |   27.02 |    33.33 |      25 |   22.85 | 29-88                                                          
 src/common/interceptors                             |    62.5 |      100 |       0 |      50 |                                                                
  transform.interceptor.ts                           |    62.5 |      100 |       0 |      50 | 10-13                                                          
 src/common/middleware                               |   55.55 |        0 |       0 |   42.85 |                                                                
  request-id.middleware.ts                           |   55.55 |        0 |       0 |   42.85 | 19-27                                                          
 src/common/pipes                                    |       0 |        0 |       0 |       0 |                                                                
  validation.pipe.ts                                 |       0 |        0 |       0 |       0 | 1-60                                                           
 src/common/types                                    |     100 |      100 |     100 |     100 |                                                                
  error-codes.enum.ts                                |     100 |      100 |     100 |     100 |                                                                
  express.d.ts                                       |       0 |        0 |       0 |       0 |                                                                
 src/modules/auth/application/dtos                   |     100 |      100 |     100 |     100 |                                                                
  login.dto.ts                                       |     100 |      100 |     100 |     100 |                                                                
  token-response.dto.ts                              |     100 |      100 |     100 |     100 |                                                                
 src/modules/auth/application/use-cases              |   46.34 |    54.54 |      20 |   37.14 |                                                                
  login.use-case.ts                                  |   33.33 |    42.85 |       0 |   26.31 | 17-53                                                          
  logout.use-case.ts                                 |      80 |      100 |       0 |   66.66 | 19                                                             
  refresh-token.use-case.ts                          |   53.33 |       75 |      50 |   46.15 | 20-46                                                          
 src/modules/auth/infrastructure/cache               |       0 |        0 |       0 |       0 |                                                                
  session-cache.service.ts                           |       0 |        0 |       0 |       0 | 1-158                                                          
 src/modules/auth/infrastructure/oauth               |   23.68 |     7.89 |      20 |   19.44 |                                                                
  google-oauth.service.ts                            |   23.68 |     7.89 |      20 |   19.44 | 40-139                                                         
 src/modules/auth/infrastructure/persistence         |       0 |        0 |       0 |       0 |                                                                
  session.orm-entity.ts                              |       0 |        0 |       0 |       0 | 1-48                                                           
 src/modules/auth/interface/guards                   |   18.91 |       25 |       0 |   15.15 |                                                                
  jwt-auth.guard.ts                                  |   30.43 |     37.5 |       0 |    23.8 | 27-66                                                          
  roles.guard.ts                                     |       0 |        0 |       0 |       0 | 1-33                                                           
 src/modules/auth/interface/http                     |   51.11 |    71.42 |       0 |   48.83 |                                                                
  auth.controller.ts                                 |   51.11 |    71.42 |       0 |   48.83 | 38-44,61,78,92,104-105,122-154                                 
 src/modules/conversation/application/dtos           |   36.55 |    51.42 |       0 |   37.36 |                                                                
  conversation-response.dto.ts                       |   53.57 |       60 |       0 |   53.57 | 64,115-126                                                     
  create-conversation.dto.ts                         |       0 |        0 |     100 |       0 | 1-40                                                           
  get-conversation-list.dto.ts                       |   63.63 |       75 |       0 |   77.77 | 16,22                                                          
  mark-messages-read.dto.ts                          |       0 |        0 |       0 |       0 | 1-17                                                           
  message-response.dto.ts                            |   52.17 |       75 |       0 |   52.17 | 88-98                                                          
  message-search-result.dto.ts                       |       0 |      100 |     100 |       0 | 1-16                                                           
  search-messages.dto.ts                             |       0 |      100 |     100 |       0 | 1-31                                                           
  send-message.dto.ts                                |       0 |      100 |     100 |       0 | 1-28                                                           
  start-typing.dto.ts                                |       0 |      100 |     100 |       0 | 1-15                                                           
 src/modules/conversation/application/use-cases      |   34.81 |    27.73 |       0 |    27.2 |                                                                
  add-participant.use-case.ts                        |   42.85 |     37.5 |       0 |   33.33 | 13-47                                                          
  create-conversation.use-case.ts                    |   29.62 |     12.5 |       0 |      24 | 19-86                                                          
  get-conversation-list.use-case.ts                  |   21.42 |    23.07 |       0 |   16.66 | 21-104                                                         
  get-conversation.use-case.ts                       |   46.15 |     37.5 |       0 |   36.36 | 13-26                                                          
  get-message-history.use-case.ts                    |   31.57 |    23.07 |       0 |      25 | 13-61                                                          
  mark-messages-as-read.use-case.ts                  |   35.71 |       30 |       0 |      25 | 13-30                                                          
  search-messages.use-case.ts                        |   38.46 |       30 |       0 |      30 | 21-41                                                          
  send-message.use-case.ts                           |   43.75 |     37.5 |       0 |   35.71 | 18-52                                                          
  start-typing.use-case.ts                           |   42.85 |       50 |       0 |   33.33 | 21-39                                                          
 src/modules/conversation/domain/aggregates          |    5.33 |        0 |       0 |     5.4 |                                                                
  conversation.aggregate.ts                          |    5.33 |        0 |       0 |     5.4 | 12-226                                                         
 src/modules/conversation/domain/entities            |    6.25 |        0 |       0 |    6.25 |                                                                
  message.entity.ts                                  |    6.25 |        0 |       0 |    6.25 | 11-119                                                         
 src/modules/conversation/domain/events              |       0 |      100 |       0 |       0 |                                                                
  message-delivered.event.ts                         |       0 |      100 |       0 |       0 | 7-12                                                           
  message-read.event.ts                              |       0 |      100 |       0 |       0 | 7-12                                                           
  message-sent.event.ts                              |       0 |      100 |       0 |       0 | 13-27                                                          
  typing-started.event.ts                            |       0 |      100 |       0 |       0 | 12-17                                                          
 src/modules/conversation/domain/value-objects       |     100 |      100 |     100 |     100 |                                                                
  conversation-type.vo.ts                            |     100 |      100 |     100 |     100 |                                                                
 src/modules/conversation/infrastructure/cache       |    42.5 |       30 |   13.33 |   37.14 |                                                                
  conversation-cache.service.ts                      |      45 |     37.5 |   14.28 |   41.17 | 24-72                                                          
  typing-indicator.cache.ts                          |      40 |        0 |    12.5 |   33.33 | 25-81                                                          
 src/modules/conversation/infrastructure/mappers     |   27.27 |        0 |       0 |   22.22 |                                                                
  conversation.mapper.ts                             |   27.27 |        0 |       0 |   22.22 | 18-61                                                          
  message.mapper.ts                                  |   27.27 |        0 |       0 |   22.22 | 17-59                                                          
 src/modules/conversation/infrastructure/persistence |   45.45 |    59.52 |       0 |   43.69 |                                                                
  conversation-participant.orm-entity.ts             |   73.68 |       75 |       0 |      75 | 28,38,46,52                                                    
  conversation.orm-entity.ts                         |   77.27 |       75 |       0 |   83.33 | 45,49,52                                                       
  conversation.repository.ts                         |    16.9 |    41.66 |       0 |    14.7 | 24-312                                                         
  message.orm-entity.ts                              |      85 |    68.75 |       0 |   88.23 | 49,55                                                          
 src/modules/conversation/infrastructure/queues      |     100 |      100 |     100 |     100 |                                                                
  offline-delivery.queue.ts                          |     100 |      100 |     100 |     100 |                                                                
 src/modules/conversation/infrastructure/workers     |   26.08 |        0 |       0 |   19.04 |                                                                
  offline-delivery.worker.ts                         |   26.08 |        0 |       0 |   19.04 | 33-97                                                          
 src/modules/conversation/interface/http/controllers |    57.4 |    73.33 |       0 |   55.76 |                                                                
  conversation.controller.ts                         |    57.4 |    73.33 |       0 |   55.76 | 51-58,89-95,118,148,179,216-221,253,281-285,327-338            
 src/modules/conversation/interface/http/dtos        |    86.2 |      100 |       0 |   92.59 |                                                                
  add-participant-request.dto.ts                     |     100 |      100 |     100 |     100 |                                                                
  create-conversation-request.dto.ts                 |     100 |      100 |     100 |     100 |                                                                
  get-messages-query.dto.ts                          |      60 |      100 |       0 |      75 | 20,33                                                          
  search-messages-request.dto.ts                     |     100 |      100 |     100 |     100 |                                                                
  send-message-request.dto.ts                        |     100 |      100 |     100 |     100 |                                                                
 src/modules/conversation/interface/websocket        |   17.88 |    49.03 |       0 |   16.52 |                                                                
  conversation.gateway.ts                            |   17.88 |    49.03 |       0 |   16.52 | 53-121,138-141,156-159,176-238,256-285,300-313,331-366,381-442 
 src/modules/file/application/dtos                   |     100 |       75 |     100 |     100 |                                                                
  file-upload-response.dto.ts                        |     100 |       75 |     100 |     100 | 25                                                             
 src/modules/file/application/use-cases              |   31.57 |        0 |       0 |   23.52 |                                                                
  upload-file.use-case.ts                            |   31.57 |        0 |       0 |   23.52 | 14-52                                                          
 src/modules/file/domain/entities                    |    9.52 |      100 |       0 |    9.52 |                                                                
  file-metadata.entity.ts                            |    9.52 |      100 |       0 |    9.52 | 9-73                                                           
 src/modules/file/infrastructure/persistence         |   52.27 |       60 |       0 |   48.71 |                                                                
  file-metadata.orm-entity.ts                        |     100 |       75 |     100 |     100 | 34-43                                                          
  file-metadata.repository.ts                        |   27.58 |    33.33 |       0 |   23.07 | 12-56                                                          
 src/modules/file/interface/http                     |   42.85 |    47.82 |       0 |   38.46 |                                                                
  file.controller.ts                                 |   42.85 |    47.82 |       0 |   38.46 | 34-36,67-95,111-115                                            
 src/modules/notification/application/use-cases      |   55.55 |      100 |       0 |   42.85 |                                                                
  send-notification.use-case.ts                      |   55.55 |      100 |       0 |   42.85 | 16-33                                                          
 src/modules/notification/domain/entities            |   13.33 |      100 |       0 |   13.33 |                                                                
  notification.entity.ts                             |   13.33 |      100 |       0 |   13.33 | 14-69                                                          
 src/modules/notification/domain/value-objects       |       0 |        0 |       0 |       0 |                                                                
  notification-type.vo.ts                            |       0 |        0 |       0 |       0 | 7-33                                                           
 src/modules/notification/infrastructure/persistence |   41.81 |       45 |       0 |   38.77 |                                                                
  notification.orm-entity.ts                         |   93.75 |       75 |       0 |   92.85 | 47                                                             
  notification.repository.ts                         |   20.51 |       25 |       0 |   17.14 | 18-103                                                         
 src/modules/notification/interface/websocket        |   44.44 |       75 |       0 |      40 |                                                                
  notification.gateway.ts                            |   44.44 |       75 |       0 |      40 | 44-51,60-63,71-106                                             
 src/modules/post/application/dtos                   |     100 |       75 |     100 |     100 |                                                                
  comment-response.dto.ts                            |     100 |       75 |     100 |     100 | 32                                                             
  create-comment.dto.ts                              |     100 |      100 |     100 |     100 |                                                                
  create-post.dto.ts                                 |     100 |      100 |     100 |     100 |                                                                
  create-tag.dto.ts                                  |     100 |      100 |     100 |     100 |                                                                
  post-response.dto.ts                               |     100 |       75 |     100 |     100 | 40-65                                                          
  tag-response.dto.ts                                |     100 |      100 |     100 |     100 |                                                                
  update-post.dto.ts                                 |     100 |      100 |     100 |     100 |                                                                
 src/modules/post/application/mappers                |      25 |      100 |       0 |   33.33 |                                                                
  post.mapper.ts                                     |      25 |      100 |       0 |   33.33 | 6-21                                                           
 src/modules/post/application/use-cases              |   42.97 |     4.76 |    8.69 |    30.3 |                                                                
  create-comment.use-case.ts                         |   41.66 |        0 |       0 |      30 | 10-23                                                          
  create-post.use-case.ts                            |   41.66 |        0 |       0 |      30 | 10-26                                                          
  create-tag.use-case.ts                             |   33.33 |        0 |       0 |   23.07 | 9-28                                                           
  delete-comment.use-case.ts                         |   44.44 |        0 |       0 |   28.57 | 8-17                                                           
  get-all-tags.use-case.ts                           |   66.66 |      100 |       0 |      50 | 9-13                                                           
  get-comments-by-post.use-case.ts                   |   66.66 |      100 |       0 |      50 | 9-13                                                           
  get-post.use-case.ts                               |   30.76 |        0 |       0 |   18.18 | 9-29                                                           
  get-posts-by-tag.use-case.ts                       |      40 |        0 |       0 |      25 | 10-25                                                          
  list-posts.use-case.ts                             |   28.57 |        0 |       0 |   16.66 | 23-45                                                          
  publish-post.use-case.ts                           |      90 |      100 |     100 |    87.5 | 24                                                             
  update-post.use-case.ts                            |   28.57 |        0 |       0 |   16.66 | 10-32                                                          
 src/modules/post/domain/aggregates                  |   67.85 |    55.88 |   66.66 |   67.85 |                                                                
  post.aggregate.ts                                  |   67.85 |    55.88 |   66.66 |   67.85 | 98-142                                                         
 src/modules/post/domain/entities                    |    8.69 |        0 |       0 |    8.69 |                                                                
  comment.entity.ts                                  |       8 |        0 |       0 |       8 | 5-64                                                           
  tag.entity.ts                                      |    9.52 |        0 |       0 |    9.52 | 5-56                                                           
 src/modules/post/domain/events                      |   21.42 |        0 |       0 |   21.42 |                                                                
  post.events.ts                                     |   21.42 |        0 |       0 |   21.42 | 3-8,14-15,21-23                                                
 src/modules/post/domain/value-objects               |     100 |      100 |     100 |     100 |                                                                
  post-status.vo.ts                                  |     100 |      100 |     100 |     100 |                                                                
 src/modules/post/infrastructure/cache               |   36.66 |    21.42 |    7.14 |   32.14 |                                                                
  post-cache.service.ts                              |   36.66 |    21.42 |    7.14 |   32.14 | 19-124                                                         
 src/modules/post/infrastructure/persistence         |   45.18 |       50 |       0 |   41.78 |                                                                
  comment.orm-entity.ts                              |   81.25 |    66.66 |       0 |   84.61 | 23,27                                                          
  comment.repository.ts                              |   29.62 |     37.5 |       0 |      25 | 12-50                                                          
  post-tag.orm-entity.ts                             |   84.61 |       75 |       0 |   81.81 | 17,21                                                          
  post.orm-entity.ts                                 |   86.36 |       75 |       0 |   89.47 | 51,55                                                          
  post.repository.ts                                 |   15.68 |    27.27 |       0 |   12.76 | 13-120                                                         
  tag.orm-entity.ts                                  |     100 |       75 |     100 |     100 | 15                                                             
  tag.repository.ts                                  |   27.58 |       25 |       0 |   23.07 | 12-57                                                          
 src/modules/post/interface/http                     |   44.14 |    67.96 |       0 |   42.15 |                                                                
  comment.controller.ts                              |   59.09 |       75 |       0 |   57.89 | 23-25,46-52,69-71,86                                           
  post.controller.ts                                 |   34.37 |    64.28 |       0 |   32.25 | 30-35,55-56,80-99,123-143,184-220,250-256,283-289,312-313      
  tag.controller.ts                                  |      56 |       70 |       0 |   57.14 | 14-16,28-30,45-47,63-65                                        
 src/modules/user/application/dtos                   |     100 |       75 |     100 |     100 |                                                                
  create-user.dto.ts                                 |     100 |       75 |     100 |     100 | 42                                                             
  update-user.dto.ts                                 |     100 |      100 |     100 |     100 |                                                                
  user-response.dto.ts                               |     100 |       75 |     100 |     100 | 29-54                                                          
 src/modules/user/application/mappers                |   14.28 |      100 |       0 |   15.38 |                                                                
  user.mapper.ts                                     |   14.28 |      100 |       0 |   15.38 | 6-19                                                           
 src/modules/user/application/use-cases              |   41.26 |       12 |   18.18 |   30.18 |                                                                
  create-user.use-case.ts                            |   76.92 |       75 |     100 |   72.72 | 18,31-36                                                       
  delete-user.use-case.ts                            |   44.44 |        0 |       0 |   28.57 | 8-19                                                           
  get-user.use-case.ts                               |   30.76 |        0 |       0 |   18.18 | 9-29                                                           
  list-users.use-case.ts                             |   36.36 |        0 |       0 |   22.22 | 22-36                                                          
  update-user.use-case.ts                            |   23.52 |        0 |       0 |   13.33 | 10-41                                                          
 src/modules/user/domain/entities                    |   64.81 |       50 |   55.55 |   64.81 |                                                                
  user.entity.ts                                     |   64.81 |       50 |   55.55 |   64.81 | 96-142                                                         
 src/modules/user/domain/events                      |       0 |        0 |       0 |       0 |                                                                
  user.events.ts                                     |       0 |        0 |       0 |       0 | 1-24                                                           
 src/modules/user/domain/value-objects               |   91.17 |      100 |      75 |   91.17 |                                                                
  email.vo.ts                                        |   81.81 |      100 |      60 |   81.81 | 27-31                                                          
  password.vo.ts                                     |   94.73 |      100 |   83.33 |   94.73 | 49                                                             
  user-role.vo.ts                                    |     100 |      100 |     100 |     100 |                                                                
 src/modules/user/infrastructure/cache               |   47.36 |       75 |      10 |   41.17 |                                                                
  user-cache.service.ts                              |   47.36 |       75 |      10 |   41.17 | 17-75                                                          
 src/modules/user/infrastructure/persistence         |   45.83 |     40.9 |       0 |   41.86 |                                                                
  user.orm-entity.ts                                 |     100 |       75 |     100 |     100 | 34-37                                                          
  user.repository.ts                                 |   23.52 |    21.42 |       0 |   19.35 | 14-66                                                          
 src/modules/user/interface/http                     |   47.61 |    72.22 |       0 |      45 |                                                                
  user.controller.ts                                 |   47.61 |    72.22 |       0 |      45 | 30-35,55-56,80-99,132-133,171-176,200-203                      
 src/shared/cache                                    |   21.05 |       30 |   14.28 |   16.66 |                                                                
  cache.service.ts                                   |   21.05 |       30 |   14.28 |   16.66 | 17-95                                                          
 src/shared/cache/decorators                         |       0 |        0 |       0 |       0 |                                                                
  cacheable.decorator.ts                             |       0 |        0 |       0 |       0 | 1-34                                                           
 src/shared/config                                   |      80 |       75 |   75.75 |   78.94 |                                                                
  config.service.ts                                  |   78.94 |       75 |   75.75 |   77.77 | 15,23-28,53-61,74,100                                          
  environment.schema.ts                              |     100 |      100 |     100 |     100 |                                                                
 src/shared/domain-events                            |   23.07 |     37.5 |       0 |   17.39 |                                                                
  aggregate-root.base.ts                             |   16.66 |      100 |       0 |   16.66 | 12-39                                                          
  domain-event-publisher.service.ts                  |      25 |     37.5 |       0 |   17.64 | 16-62                                                          
 src/shared/domain-events/outbox                     |   45.58 |    41.46 |       0 |   40.98 |                                                                
  outbox.orm-entity.ts                               |     100 |    66.66 |     100 |     100 | 30-55                                                          
  outbox.processor.ts                                |   23.33 |    42.85 |       0 |   18.51 | 18-82                                                          
  outbox.repository.ts                               |   33.33 |       20 |       0 |   26.31 | 17-105                                                         
 src/shared/i18n                                     |      70 |     62.5 |      50 |    62.5 |                                                                
  i18n-helper.service.ts                             |      70 |     62.5 |      50 |    62.5 | 21-36                                                          
 src/shared/logger                                   |   42.85 |    35.71 |    12.5 |   38.46 |                                                                
  logger.service.ts                                  |   42.85 |    35.71 |    12.5 |   38.46 | 18-39,61-81                                                    
 src/shared/messaging/bullmq/processors              |       0 |        0 |       0 |       0 |                                                                
  email.processor.ts                                 |       0 |        0 |       0 |       0 | 1-44                                                           
 src/shared/messaging/bullmq/queues                  |       0 |      100 |     100 |       0 |                                                                
  email.queue.ts                                     |       0 |      100 |     100 |       0 | 14                                                             
 src/shared/messaging/kafka                          |   31.34 |    33.33 |   16.66 |   26.98 |                                                                
  kafka-consumer.service.ts                          |   28.94 |       30 |   16.66 |      25 | 28-95                                                          
  kafka-producer.service.ts                          |   34.48 |     37.5 |   16.66 |   29.62 | 23-85                                                          
 src/shared/storage/adapters                         |    30.1 |    47.82 |   23.07 |   26.96 |                                                                
  local-storage.adapter.ts                           |   33.33 |       50 |   28.57 |      30 | 26-88                                                          
  s3-storage.adapter.ts                              |   27.45 |    47.05 |   16.66 |   24.48 | 27,42-127                                                      
 src/shared/websocket                                |   23.52 |        0 |       0 |   23.52 |                                                                
  websocket.adapter.ts                               |   23.52 |        0 |       0 |   23.52 | 21-59                                                          
-----------------------------------------------------|---------|----------|---------|---------|----------------------------------------------------------------
Test Suites: 13 failed, 3 passed, 16 total
Tests:       170 failed, 59 passed, 229 total
Snapshots:   0 total
Time:        40.053 s
Ran all test suites in 3 projects.
‚ÄâELIFECYCLE‚Äâ Command failed with exit code 1.
